{"version":3,"sources":["views/Home/Home.js","views/NoMatch/NoMatch.js","components/ClassDisplay/ClassDisplay.js","components/ClassFilter/ClassFilter.js","views/Classes/Classes.js","views/CreateClass/CreateClass.js","views/EditClass/EditClass.js","views/MyAccount/MyAccount.js","views/ClassHistory/ClassHistory.js","components/InstructorDisplay/InstructorDisplay.js","components/InstructorFilter/InstructorFilter.js","views/Instructors/Instructors.js","views/UserProfile/UserProfile.js","utils/setAuthToken.js","actions/authActions.js","actions/types.js","components/NavBar/NavBar.js","views/Login/Login.js","views/Register/Register.js","components/StudentDisplay/StudentDisplay.js","components/Comment/Comment.js","views/ClassDetail/ClassDetail.js","views/private-route/PrivateRoute.js","views/Dashboard/Dashboard.js","views/InstructorProfile/InstructorProfile.js","reducers/authReducers.js","reducers/errorReducers.js","reducers/index.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["Home","props","react_default","a","createElement","Jumbotron_default","className","NoMatch","ClassDisplay","Card_default","Body","Img","src","Title","this","title","Text","description","price","rating","category","lib","to","slug","Button_default","variant","Component","ClassFilter","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","maxPrice","minRating","classCategory","e","_this2","filterType","target","id","setState","value","filterResults","Form","Group","controlId","onChange","bind","Control","as","undefined","Classes","classListing","allClasses","activePage","showWarning","fetch","then","response","json","data","pg","query","console","log","filteredClasses","i","length","includeInResult","c","parseFloat","push","classListData","map","index","components_ClassDisplay_ClassDisplay","key","name","instructor","_id","startIdx","endIdx","toDisplay","slice","pageRange","Math","min","components_ClassFilter_ClassFilter","Alert_default","Pagination_default","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","handlePageChange","CreateClass","handleSubmit","assertThisInitialized","handleCancel","handleUrl","successRedirect","urlError","auth","isAuthenticated","history","userUrl","validator","isURL","preventDefault","newClassData","FormData","newClassObj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","Symbol","iterator","next","done","userInput","err","return","instructorId","user","method","body","JSON","stringify","headers","Content-Type","result","onSubmit","type","required","onBlur","onClick","Redirect","connect","EditClass","class","originator","Originator","careTaker","CareTaker","handleSave","handleRestore","handleNameChange","handleDescriptionChange","handlePriceChange","handleProposedScheduleChange","handleCategoryChange","url","match","params","classId","assign","proposedSchedule","payment","_this3","SetMemento","saveState","restoreState","GetMemento","output","alert","defaultValue","paymentLink","Memento","_obj","conState","_conState","MyAccount","userId","IsReadOnly","imageIsReadOnly","successCheck","instructorRating","learnerRating","handleEmailChange","handleEditClick","handleClassHistory","handleLogOut","fileSelectedHandler","numOfRatingAsInstructor","sumOfRatingAsInstructor","numOfRatingAsLearner","event","newUser","email","newUserData","newUserObj","Accept","readOnly","react_rater_lib_default","total","interactive","ClassHistory","userID","filterWarning","noTeachClassWarning","noTakeClassWarning","archive","currentSection","_this4","_this5","displayTeach","displayTaught","displayTook","handleArchive","Nav_default","fill","defaultActiveKey","Item","Link","eventKey","onSelect","displayTake","InstructorDisplay","introduction","InstructorFilter","instructorCategory","Instructors","instructorListing","allInstructors","categories","_loop","temp","j","noMatch","instructorListData","components_InstructorDisplay_InstructorDisplay","components_InstructorFilter_InstructorFilter","UserProfile","currentUser","classesTaken","noClassWarning","rateLearner","url2","newRatingObj","newSumOfRatingAsLearner","sumOfRatingAsLearner","newNumOfRatingAsLearner","userData","Row_default","Col_default","sm","alt","onRate","setAuthToken","token","axios","defaults","common","setCurrentUser","decoded","payload","logoutUser","dispatch","localStorage","removeItem","NavBar","Navbar_default","bg","Brand","NavItem_default","NavDropdown_default","href","Login","defineProperty","password","loginUser","errors","nextProps","style","marginTop","paddingLeft","noValidate","error","classnames","invalid","emailnotfound","htmlFor","passwordincorrect","width","borderRadius","letterSpacing","post","res","setItem","jwt_decode","catch","Register","password2","registerUser","withRouter","StudentDisplay","signupDate","Subtitle","commentText","commentDate","ClassDetail","currentClass","commentSubmitStatus","loginRequired","classNotRegistered","noStudentAlert","isInstructor","noCommentAlert","archiveModalDisplay","completeModalDisplay","studentsList","comments","textAreaValue","handleWithdraw","getStudents","deleteClass","archiveClass","completeClass","getComments","submitComment","showConfirmArchive","handleCloseArchiveModal","showConfirmComplete","handleCloseCompleteModal","newUserClassPair","classID","complete","setTimeout","instructorID","_this6","_this7","_this8","commentForm","currentTarget","commentObj","item","_this9","_this10","classData","studentData","components_StudentDisplay_StudentDisplay","date","commentData","Comment","instructorButtons","Modal_default","show","onHide","Header","closeButton","Footer","studentButtons","disabled","instructorName","about","status","notInstructorAlert","Form_default","rows","_ref","component","rest","objectWithoutProperties","Route","render","Dashboard","onLogoutClick","height","split","InstructorProfile","_this$state$instructo","sumOfRating","numOfRating","comment","rateInstructor","content","isEmpty","require","initialState","loading","combineReducers","arguments","action","objectSpread","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","jwtToken","currentTime","Date","now","exp","location","Boolean","hostname","ReactDOM","es","BrowserRouter","components_NavBar_NavBar","Switch","private_route_PrivateRoute","exact","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2d94902a.chunk.js","sourcesContent":["import React from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron'\n\nimport './Home.css'\n\nconst Home = props => {\n\treturn (\n\t\t<Jumbotron>\n\t\t\t<h1>Welcome to TeachMe</h1>\n\t\t\t<p>Teach Me is a software project designed to connect users to teach each other creative skills. Teach Me provides creatively skilled individuals (musicians, artists etc.) with an additional source of income, while allowing non-skilled individuals to explore skills that they might be interested in learning.</p>\n\t\t\t<hr />\n\t\t\t<p className=\"bold-text\">This website is still under consturction. Please come back later :)</p>\n\t\t</Jumbotron>\n\t);\n};\n\nexport default Home;","import React from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron'\n\nimport './NoMatch.css'\n\nconst NoMatch = props => {\n\treturn (\n\t\t<Jumbotron>\n\t\t\t<h1>Oops</h1>\n\t\t\t<p>That's a 404 error - It seems that we cannot find the page you requested.</p>\n\t\t</Jumbotron>\n\t);\n};\n\nexport default NoMatch;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\n\nclass ClassDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <Card.Body>\n                    <Card.Img className=\"instructor-img\" src=\"/images/default-user.png\"></Card.Img>\n                    <Card.Title>{this.props.title}</Card.Title>\n                    <Card.Text>{this.props.description}</Card.Text>\n                    <Card.Text className=\"italics-text\">Price: ${this.props.price} | Rating: {this.props.rating} | Category: {this.props.category}</Card.Text>\n                    <LinkContainer to={\"/classes/\" + this.props.slug}><Button variant=\"info\">See Class Details</Button></LinkContainer>\n                </Card.Body>\n            </Card>\n        );\n    }\n};\n\nexport default ClassDisplay; \n\n\n\n","import React, { Component } from 'react';\n//import { Link } from 'react-router-dom';\nimport { Form } from 'react-bootstrap'\n\n\nclass ClassFilter extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n            maxPrice: 'Max Price...',\n            minRating: 'Min Rating...',\n            classCategory: 'Class Category...'\n\t\t};\n    }\n    \n    filterResults(e) {\n        const filterType = e.target.id;\n        if (filterType === 'maxPrice') {\n            this.setState({maxPrice: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else if (filterType === 'minRating') {\n            this.setState({minRating: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else {\n            this.setState({classCategory: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n    }\n\n    render() {\n        return(\n            <Form className=\"class-filter\" >\n                <Form.Group controlId=\"maxPrice\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Max Price...</option>\n                        <option value={50}>$50</option>\n                        <option value={100}>$100</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"minRating\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Min Rating...</option>\n                        <option>8</option>\n                        <option>9</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"classCategory\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Class Category...</option>\n                        <option>Music</option>\n                        <option>Art</option>\n                        <option>Language</option>\n                    </Form.Control>\n                </Form.Group>\n            </Form>\n        );\n    }\n};\n\nexport default ClassFilter; ","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport { ClassFilter } from '../../components/ClassFilter';\n\nimport './Classes.css'\n\nclass Classes extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tclassListing: [],\n\t\t\tallClasses: [],\n\t\t\tactivePage: 1,\n\t\t\tshowWarning: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('/api/classes')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({classListing: data, allClasses: data}));\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tthis.setState({classListing: data, allClasses: data});\n\t\t*/\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\tconsole.log(query);\n\t\tconst allClasses = this.state.allClasses;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allClasses.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allClasses[i];\n\t\t\tif (query['maxPrice'] !== 'Max Price...') {\n\t\t\t\tif (c.price > parseFloat(query['maxPrice'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['classCategory'] !== 'Class Category...') {\n\t\t\t\tif (c.category !== query['classCategory']) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\tconsole.log(filteredClasses.length);\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({showWarning: true, classListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({showWarning: false, classListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\trender() {\n\t\tconst classListData = this.state.classListing.map(function(data, index) {\n\t\t\treturn <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructor} rating={data.rating} category={data.category} slug={data._id}/>\n\t\t});\n\n\t\tconst CLASSES_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n\t\tconst endIdx = startIdx + CLASSES_PER_PAGE;\n\t\tconst toDisplay = classListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='class-listing-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Available Classes</h1>\n\t\t\t\t\t<p>Below is the list of classes that are available on TeachMe.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div className='filter-container'>\n\t\t\t\t\t<ClassFilter filterResults={this.filterResults.bind(this)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='class-listing-display'>\n\t\t\t\t\t{toDisplay}\n\t\t\t\t\t{ this.state.showWarning ? <Alert variant='danger'>It seems that we don't have any classes that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\titemsCountPerPage={CLASSES_PER_PAGE}\n\t\t\t\t\t\t\ttotalItemsCount={classListData.length}\n\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n \t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Classes;\n","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n//import { registerUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport validator from 'validator';\n\n\nimport \"./CreateClass.css\";\n\nclass CreateClass extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleCancel = this.handleCancel.bind(this);\n\t\tthis.handleUrl = this.handleUrl.bind(this);\n\n\t\tthis.state = {\n\t\t\tsuccessRedirect: undefined,\n\t\t\turlError: ''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// If not logged in and user navigates to Create Class page, should redirect them to login\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\t//console.log(this.props.auth);\n\t\t} else {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandleUrl(e) {\n\t\tconst userUrl = e.target.value;\n\n\t\tif (!validator.isURL(userUrl)) {\n\t\t\tthis.setState({urlError: 'That is not a valid url. Please try again'});\n\t\t} else {\n\t\t\tthis.setState({urlError: ''});\n\t\t}\n\t}\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst newClassData = new FormData(e.target);\n\t\tconst newClassObj = {};\n\n\t\tfor (let userInput of newClassData.entries()) {\n\t\t\tnewClassObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\tconst instructorId = this.props.auth.user.id;\n\t\tnewClassObj.instructorId = instructorId;\n\t\tconsole.log(newClassObj);\n\n\t\tfetch(\"/api/create-class/\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(newClassObj),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ successRedirect: data }));\n\t}\n\n\thandleCancel(e) {\n\t\tthis.setState({ successRedirect: { result: \"cancelled\" } });\n\t}\n\n\trender() {\n\t\tif (\n\t\t\tthis.state.successRedirect &&\n\t\t\t(this.state.successRedirect.result === \"success\" ||\n\t\t\t\tthis.state.successRedirect.result === \"cancelled\")\n\t\t) {\n\t\t\treturn <Redirect to=\"/class-history\" />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div id=\"submit-form\">\n\t\t\t\t\t<h3>Create a Class</h3>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"name\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"description\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"number\" name=\"price\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Proposed Schedule</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"proposedSchedule\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Category</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"category\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Payment Link</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" onBlur={this.handleUrl} name=\"paymentLink\" />\n\t\t\t\t\t\t<label id='urlError'>{this.state.urlError}</label><br />\n\t\t\t\t\t\t<input type=\"submit\" value=\"Publish\" />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvalue=\"Cancel\"\n\t\t\t\t\t\t\tonClick={this.handleCancel}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nCreateClass.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(CreateClass);","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Alert from 'react-bootstrap/Alert';\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\nimport validator from 'validator';\n\nimport './EditClass.css'\n\nclass EditClass extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tclass: {},\n\t\t\tsuccessRedirect: undefined,\n\t\t\turlError: '',\n\t\t\toriginator: new Originator(),\n\t\t\tcareTaker: new CareTaker()\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleCancel = this.handleCancel.bind(this);\n\n\t\tthis.handleSave = this.handleSave.bind(this);\n\t\tthis.handleRestore = this.handleRestore.bind(this);\n\n\t\tthis.handleNameChange = this.handleNameChange.bind(this);\n\t\tthis.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n\t\tthis.handlePriceChange = this.handlePriceChange.bind(this);\n\t\tthis.handleProposedScheduleChange = this.handleProposedScheduleChange.bind(this);\n\t\tthis.handleCategoryChange = this.handleCategoryChange.bind(this);\n\t\tthis.handleUrl = this.handleUrl.bind(this);\n\n\t}\n\n\tcomponentDidMount() {\n    // If not logged in and user navigates to Edit Class page, should redirect them to login\n\t    if (this.props.auth.isAuthenticated) {\n\t\t\t// console.log(this.props.auth);\n\t\t\tconst { classId } = this.props.match.params;\n\t\t\tconst url = '/api/edit-class/' + classId;\n\t\t\tconsole.log(url);\n\t\t\tfetch(url)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tthis.setState({class: data[0]});\n\n\t\t\t\t\tlet originator = Object.assign({}, this.state.originator);\n\t\t\t\t\toriginator.name = data[0].name; \n\t\t\t\t\toriginator.description = data[0].description;\n\t\t\t\t\toriginator.price = data[0].price;\n\t\t\t\t\toriginator.proposedSchedule = data[0].proposedSchedule;\n\t\t\t\t\toriginator.category = data[0].category;\n\t\t\t\t\toriginator.payment = data[0].payment;\n\n\t\t\t\t\tthis.setState({originator});\n\t\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandleSubmit(e) {\n\n\t\te.preventDefault();\n\t\tconst newClassData = new FormData(e.target);\n\t\tconst newClassObj = {};\n\n\t\tfor (let userInput of newClassData.entries()) {\n\t\t\tnewClassObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\tconsole.log(newClassObj);\n\n\t\tconst { classId } = this.props.match.params;\n\t\tconst url = '/api/edit-class/' + classId;\n\t\tfetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(newClassObj),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}).then(response => response.json())\n\t\t\t.then(data => this.setState({successRedirect: data}));\n\t}\n\n\thandleCancel(e) {\n\t\tthis.setState({successRedirect: {\"result\": \"cancelled\"}});\n\t}\n\n\thandleNameChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.name = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleDescriptionChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.description = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandlePriceChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.price = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleProposedScheduleChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.proposedSchedule = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleCategoryChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.category = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleSave(e) {\n\t\tthis.state.careTaker.SetMemento(this.state.originator.saveState());\n\t\tconsole.log(this.state.originator);\n\t\tconsole.log(\"save\");\n\t}\n\n\thandleRestore(e) {\n\t\tthis.state.originator.restoreState(this.state.careTaker.GetMemento());\n\t\tvar output = \"The values you previously saved are: \\n\" + \n\t\t\"Name: \" + this.state.originator.name + \"\\n\" +\n\t\t\"Description: \" + this.state.originator.description + \"\\n\" +\n\t\t\"Price: \" + this.state.originator.price + \"\\n\" +\n\t\t\"Proposed Schedule: \" + this.state.originator.proposedSchedule + \"\\n\" +\n\t\t\"Category: \" + this.state.originator.category + \"\\n\" +\n\t\t\"Payment Link: \" + this.state.originator.payment;\n\t\talert(output);\n\t\tconsole.log(this.state.originator);\n\t\tconsole.log(\"restore\");\n\t}\n\n\thandleUrl(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.payment = e.target.value; \n\t\tthis.setState({originator});\n\n\t\tconst userUrl = e.target.value;\n\n\t\tif (!validator.isURL(userUrl)) {\n\t\t\tthis.setState({urlError: 'That is not a valid url. Please try again'});\n\t\t} else {\n\t\t\tthis.setState({urlError: ''});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.successRedirect && (this.state.successRedirect.result === 'success' || this.state.successRedirect.result === 'cancelled')) {\n\t\t\treturn (\n\t\t\t\t<Redirect to='/home' />\n\t\t\t)\n\t\t}\n\t\telse if (this.state.class.instructor !== this.props.auth.user.id) {\n\t\t\treturn (\n\t\t\t\t<div id='alert'>\n\t\t\t\t\t<Alert variant='danger'>\"You are not the instructor of this class so you do not have the permission to edit it.\"</Alert>\n\t\t\t\t</div>\n\t\t\t)\n\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<div id='edit-form'>\n\t\t\t\t\t<h3>Edit the Class</h3>\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<label>Name</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"name\" defaultValue={this.state.class.name} onChange={this.handleNameChange} required /><br />\n\t\t\t\t\t\t<label>Description</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"description\" defaultValue={this.state.class.description} onChange={this.handleDescriptionChange} required /><br />\n\t\t\t\t\t\t<label>Price</label><br />\n\t\t\t\t\t\t<input type=\"number\" name=\"price\" defaultValue={this.state.class.price} onChange={this.handlePriceChange} required /><br />\n\t\t\t\t\t\t<label>Proposed Schedule</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"proposedSchedule\" defaultValue={this.state.class.proposedSchedule} onChange={this.handleProposedScheduleChange} required /><br />\n\t\t\t\t\t\t<label>Category</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"category\" defaultValue={this.state.class.category} onChange={this.handleCategoryChange} required /><br />\n\t\t\t\t\t\t<label>Payment Link</label><br />\n\t\t\t\t\t\t<input type=\"text\" onBlur={this.handleUrl} defaultValue={this.state.class.paymentLink} name=\"paymentLink\" />\n\t\t\t\t\t\t<label id='urlError'>{this.state.urlError}</label><br />\n\t\t\t\t\t\t<input type=\"submit\" value=\"Publish\" />\n\t\t\t\t\t\t<input type=\"button\" value=\"Cancel\" onClick={this.handleCancel} />\n\t\t\t\t\t\t<input type=\"button\" value=\"Save Draft\" onClick={this.handleSave} />\n\t\t\t\t\t\t<input type=\"button\" value=\"View Draft\" onClick={this.handleRestore} />\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\n}\n\n\nvar Originator = function(){\n\tthis.name = \"\" ;\n\tthis.description = \"\" ;\n\tthis.price = \"\" ;\n\tthis.proposedSchedule = \"\" ;\n\tthis.category = \"\" ;\n\tthis.payment = \"\" ;\n\n\tthis.saveState = function(){\n\t\treturn new Memento(this)\n\t}\n \n\tthis.restoreState = function(_obj){\n\t\tthis.name = _obj.name ;\n\t\tthis.description = _obj.description ;\n\t\tthis.price = _obj.price ;\n\t\tthis.proposedSchedule = _obj.proposedSchedule ;\n\t\tthis.category = _obj.category ;\n\t\tthis.payment = _obj.payment ;\n\t}\n}\n\nvar Memento = function(_obj){\n\tthis.name = _obj.name;\n\tthis.description = _obj.description;\n\tthis.price = _obj.price;\n\tthis.proposedSchedule = _obj.proposedSchedule;\n\tthis.category = _obj.category;\n\tthis.payment = _obj.payment;\n}\n\nvar CareTaker = function(){\n\tvar conState = null;\n\tthis.SetMemento = function(_conState){\n\t\tconState =  _conState;\n\t}\n\tthis.GetMemento = function(){\n\t\treturn conState;\n\t}\n}\n\n\nEditClass.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(EditClass);\n","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Rater from \"react-rater\";\n\nimport \"./MyAccount.css\";\n\nclass MyAccount extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserId: undefined,\n\t\t\tIsReadOnly: true,\n\t\t\timageIsReadOnly: true,\n\t\t\tuser: {},\n\t\t\tsuccessCheck: undefined,\n\t\t\tinstructorRating: 0.0,\n\t\t\tlearnerRating: 0.0\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleNameChange = this.handleNameChange.bind(this);\n\t\tthis.handleEmailChange = this.handleEmailChange.bind(this);\n\t\tthis.handleEditClick = this.handleEditClick.bind(this);\n\t\tthis.handleClassHistory = this.handleClassHistory.bind(this);\n\t\tthis.handleLogOut = this.handleLogOut.bind(this);\n\t\tthis.fileSelectedHandler = this.fileSelectedHandler.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconsole.log(\"correct!\");\n\t\t\tthis.setState({ userId: this.props.auth.user.id }, function() {\n\t\t\t\tconst url = \"/api/my-account/\" + this.state.userId;\n\t\t\t\tconsole.log(url);\n\t\t\t\tfetch(url)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(data => this.setState({ user: data[0] }));\n\t\t\t});\n\t\t} else {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\n\t\t//console.log(this.state.userName);\n\t}\n\n\tcalculateRating() {\n\t\tif (this.state.user.numOfRatingAsInstructor > 0) {\n\t\t\tthis.setState({\n\t\t\t\tinstructorRating:\n\t\t\t\t\t(this.state.user.sumOfRatingAsInstructor * 1.0) /\n\t\t\t\t\tthis.state.user.numOfRatingAsInstructor\n\t\t\t});\n\t\t}\n\t\tif (this.state.user.numOfRatingAsLearner > 0) {\n\t\t\tthis.setState({\n\t\t\t\tlearnerRating:\n\t\t\t\t\t(this.state.user.sumOfRatingAsInstructor * 1.0) /\n\t\t\t\t\tthis.state.user.numOfRatingAsInstructor\n\t\t\t});\n\t\t}\n\t}\n\n\thandleNameChange(event) {\n\t\tlet newUser = this.state.user;\n\t\tnewUser.name = event.target.value;\n\t\tthis.setState({ user: newUser });\n\t}\n\n\thandleEmailChange(event) {\n\t\tlet newUser = this.state.user;\n\t\tnewUser.email = event.target.value;\n\t\tthis.setState({ user: newUser });\n\t}\n\n\thandleSubmit(event) {\n\t\tthis.setState({ successCheck: { result: \"success\" } });\n\t\talert(\"A new profile is submitted! \");\n\t\tevent.preventDefault();\n\n\t\tconst newUserData = new FormData(event.target);\n\t\tconst newUserObj = {};\n\n\t\tfor (let userInput of newUserData.entries()) {\n\t\t\tnewUserObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\tconsole.log(newUserObj);\n\n\t\tconst url = \"/api/my-account/\" + this.state.userId;\n\t\tfetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(newUserObj),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAccept: \"application/json\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ successCheck: data }));\n\n\t\tthis.setState({ IsReadOnly: true });\n\t}\n\n\thandleEditClick(event) {\n\t\tthis.setState({ IsReadOnly: false });\n\t}\n\n\thandleClassHistory(event) {\n\t\tthis.props.history.push(\"/class-history\");\n\t}\n\n\thandleLogOut(event) {\n\t\tthis.props.history.push(\"/dashboard\");\n\t}\n\n\tfileSelectedHandler() {}\n\n\trender() {\n\t\tconsole.log(this.state.instructorRating);\n\t\treturn (\n\t\t\t<div id=\"myaccount-page\">\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h3>My Account Page</h3>\n\t\t\t\t\t<br />\n\t\t\t\t</Jumbotron>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={this.state.user.name}\n\t\t\t\t\t\treadOnly={this.state.IsReadOnly}\n\t\t\t\t\t\tonChange={this.handleNameChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tvalue={this.state.user.email}\n\t\t\t\t\t\treadOnly={this.state.IsReadOnly}\n\t\t\t\t\t\tonChange={this.handleEmailChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<lable>Rating as Insturctor</lable>\n\t\t\t\t\t<Rater\n\t\t\t\t\t\ttotal={5}\n\t\t\t\t\t\trating={this.state.user.instructorRating}\n\t\t\t\t\t\tinteractive={false}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<lable>Rating as Learner</lable>\n\t\t\t\t\t<Rater\n\t\t\t\t\t\ttotal={5}\n\t\t\t\t\t\trating={this.state.user.learnerRating}\n\t\t\t\t\t\tinteractive={false}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tname=\"edit\"\n\t\t\t\t\t\tvalue=\"Edit\"\n\t\t\t\t\t\tonClick={this.handleEditClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<input type=\"submit\" value=\"Submit\" />\n\t\t\t\t\t<input type=\"file\" onClick={this.fileSelectedHandler} />\n\t\t\t\t</form>\n\n\t\t\t\t<input\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tname=\"viewclasshistory\"\n\t\t\t\t\tvalue=\"View Class History\"\n\t\t\t\t\tonClick={this.handleClassHistory}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tname=\"logout\"\n\t\t\t\t\tvalue=\"Log out\"\n\t\t\t\t\tonClick={this.handleLogOut}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\nMyAccount.propTypes = {\n\tauth: PropTypes.object.isRequired,\n\thistory: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(MyAccount);","import React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Nav from 'react-bootstrap/Nav';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport { ClassFilter } from '../../components/ClassFilter';\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport './ClassHistory.css'\n\nclass ClassHistory extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserID: undefined,\n\t\t\tclassListing: [],\n\t\t\tallClasses: [],\n\t\t\tactivePage: 1,\n\t\t\tfilterWarning: false,\n\t\t\tnoTeachClassWarning: false,\n\t\t\tnoTakeClassWarning: false,\n\t\t\tarchive: false,\n\t\t\tcurrentSection: 0\n\t\t};\n\t}\n\n\tdisplayTaught() {\n\t\tthis.setState({activePage:1});\n\t\tconst url = '/api/class-history-taught/' + this.state.userID;\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTeachClassWarning: true, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTeachClassWarning: false, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});}\n\n\tdisplayTeach() {\n\t\tthis.setState({activePage:1});\n\t\tthis.setState({currentSection:0});\n\t\tconst url = '/api/class-history-teach/' + this.state.userID;\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTeachClassWarning: true, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTeachClassWarning: false, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tif (data.length === 0) {\n\t\t\tthis.setState({noTeachClassWarning: true, classListing: data, allClasses: data});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({classListing: data, allClasses: data});\n\t\t}\n\t\t*/\n\t}\n\n\tdisplayTook() {\n\t\tthis.setState({activePage:1});\n\t\tconst url = '/api/class-history-took/' + this.state.userID\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTakeClassWarning: true, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTakeClassWarning: false, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});}\n\n\tdisplayTake() {\n\t\tthis.setState({activePage:1});\n\t\tthis.setState({currentSection:1});\n\t\tconst url = '/api/class-history-take/' + this.state.userID\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTakeClassWarning: true, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTakeClassWarning: false, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Something else\",\"description\":\"not Piano\",\"price\":175,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tif (data.length === 0) {\n\t\t\tthis.setState({noTakeClassWarning: true, classListing: data, allClasses: data});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({classListing: data, allClasses: data});\n\t\t}\n\t\t*/\n\t}\n\n\n\n\tcomponentDidMount() {\n\t\t// If logged in and user navigates to Login page, should redirect them to dashboard\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tthis.setState({userID: this.props.auth.user.id}, function() {\n\t\t\t\tthis.displayTeach();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\tconst allClasses = this.state.allClasses;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allClasses.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allClasses[i];\n\t\t\tif (query['maxPrice'] !== 'Max Price...') {\n\t\t\t\tif (c.price > parseFloat(query['maxPrice'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['classCategory'] !== 'Class Category...') {\n\t\t\t\tif (c.category !== query['classCategory']) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({filterWarning: true, classListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({filterWarning: false, classListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\thandleArchive() {\n\n\t\t//console.log(this.state.archive);\n\t\tif(this.state.currentSection === 0) {\n\t\t\tthis.displayTaught();\n\t\t} else {\n\t\t\tthis.displayTook();\n\t\t}\n\n\t}\n\n  \trender() {\n\t\tconst classListData = this.state.classListing.map(function(data, index) {\n\t\t\treturn <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructor} rating={data.rating} category={data.category} slug={data._id}/>\n\t\t});\n\n\t\tconst CLASSES_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n\t\tconst endIdx = startIdx + CLASSES_PER_PAGE;\n\t\tconst toDisplay = classListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='class-history-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>My Class History</h1>\n\t\t\t\t\t<p>Below are the classes you have either taught or taken at TeachMe.</p>\n\t\t\t\t\t<input type=\"button\" name=\"archive\" value=\"Archive Or Not\" onClick={this.handleArchive.bind(this)}/>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<Nav fill variant=\"tabs\" defaultActiveKey=\"teach\" className=\"class-history-nav\">\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"teach\" onSelect={this.displayTeach.bind(this)}>Classes I Teach</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"take\" onSelect={this.displayTake.bind(this)}>Classes I Take</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t</Nav>\n\t\t\t\t<div className='filter-container filter-container-ch'>\n\t\t\t\t\t\t<ClassFilter filterResults={this.filterResults.bind(this)}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='class-listing-display'>\n\t\t\t\t\t\t{toDisplay}\n\t\t\t\t\t\t{ this.state.noTakeClassWarning ? <Alert variant='danger'>It seems that you have no registered class at this time. Go to the class listing page and register for a new class!</Alert> : null }\n\t\t\t\t\t\t{ this.state.noTeachClassWarning ? <Alert variant='danger'>It seems that you are not teaching any class at this time.</Alert> : null }\n\t\t\t\t\t\t{ this.state.filterWarning ? <Alert variant='danger'>It seems that we don't have any classes that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\t\titemsCountPerPage={CLASSES_PER_PAGE}\n\t\t\t\t\t\t\t\ttotalItemsCount={classListData.length}\n\t\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nClassHistory.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(ClassHistory);\n","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\n\nclass InstructorDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <Card.Body>\n                    <Card.Img className=\"instructor-img\" src=\"/images/default-user.png\"></Card.Img>\n                    <Card.Title>{this.props.name}</Card.Title>\n                    <Card.Text>{this.props.introduction}</Card.Text>\n                    <Card.Text className=\"italics-text\">Rating: {this.props.rating}</Card.Text>\n                    <LinkContainer to={\"/instructors/\" + this.props.slug}><Button variant=\"info\">See Instructor Details</Button></LinkContainer>\n                </Card.Body>\n            </Card>\n        );\n    }\n};\n\nexport default InstructorDisplay; \n\n\n\n","import React, { Component } from 'react';\n//import { Link } from 'react-router-dom';\nimport { Form } from 'react-bootstrap'\n\nclass InstructorFilter extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            minRating: 'Min Rating...',\n            instructorCategory: 'Instructor Category...'\n        };\n    }\n    \n    filterResults(e) {\n        const filterType = e.target.id;\n        if (filterType === 'minRating') {\n            this.setState({minRating: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else {\n            this.setState({instructorCategory: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n    }\n\n    render() {\n        return(\n            <Form className=\"class-filter\" >\n                <Form.Group controlId=\"minRating\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Min Rating...</option>\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                        <option>5</option>\n                        <option>6</option>\n                        <option>7</option>\n                        <option>8</option>\n                        <option>9</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"instructorCategory\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Instructor Category...</option>\n                        <option>Music</option>\n                        <option>Art</option>\n                        <option>Language</option>\n                        <option>Technology</option>\n                        <option>Sports</option>\n                    </Form.Control>\n                </Form.Group>\n            </Form>\n        );\n    }\n};\n\nexport default InstructorFilter; ","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { InstructorDisplay } from '../../components/InstructorDisplay';\nimport { InstructorFilter } from '../../components/InstructorFilter';\n\nimport './Instructors.css'\n\nclass Instructors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinstructorListing: [],\n\t\t\tallInstructors: [],\n\t\t\tactivePage: 1,\n\t\t\tshowWarning: false,\n\t\t\tcategories: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('/api/instructors')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({instructorListing: data, allInstructors: data}, () => {\n\n\t\t\t\t\tconst allInstructors = this.state.allInstructors;\n\t\t\t\t\tvar total = {};\n\n\t\t\t\t\t\tfor (let i = 0; i < allInstructors.length; i++) {\n\t\t\t\t\t\t\tvar temp = [];\n\t\t\t\t\t\t\t// console.log(temp);\n\t\t\t\t\t\t\tconst url = '/api/class-history-teach/' + allInstructors[i]._id;\n\t\t\t\t\t\t\tconsole.log(url);\n\t\t\t\t\t\t\tfetch(url)\n\t\t\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < data.length; j++) {\n\t\t\t\t\t\t\t\t\t\t// console.log(data[j]);\n\t\t\t\t\t\t\t\t\t\ttemp.push(data[j].category);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// console.log(temp);\n\t\t\t\t\t\t\t\t\ttotal[i] = temp;\n\t\t\t\t\t\t\t\t\ttemp = [];\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(total);\n\t\t\t\t\tthis.setState({categories: total});\n\t\t\t\t});\n\t\t\t})\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\t// console.log(query);\n\t\t// console.log(this.state.categories);\n\t\tconst allInstructors = this.state.allInstructors;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allInstructors.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allInstructors[i];\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['instructorCategory'] !== 'Instructor Category...') {\n\t\t\t\tvar noMatch = true;\n\t\t\t\tfor (let j = 0; j < this.state.categories[i].length; j++) {\n\t\t\t\t\tif (query['instructorCategory'] == this.state.categories[i][j]) {\n\t\t\t\t\t\tnoMatch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (noMatch) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\t// console.log(filteredClasses.length);\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({showWarning: true, instructorListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({showWarning: false, instructorListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\trender() {\n\n\t\tconst instructorListData = this.state.instructorListing.map((data, index) => {\n\t\t\treturn <InstructorDisplay key={index} name={data.name} introduction={data.introduction} rating={data.rating} slug={data._id}/>\n\t\t});\n\n\t\tconst INSTRUCTORS_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * INSTRUCTORS_PER_PAGE;\n\t\tconst endIdx = startIdx + INSTRUCTORS_PER_PAGE;\n\t\tconst toDisplay = instructorListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, instructorListData.length/INSTRUCTORS_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='instructor-listing-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Instructors</h1>\n\t\t\t\t\t<p>Below is the list of instructors on TeachMe.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div className='filter-container'>\n\t\t\t\t\t<InstructorFilter filterResults={this.filterResults.bind(this)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='instructor-listing-display'>\n\t\t\t\t\t{toDisplay}\n\t\t\t\t\t{ this.state.showWarning ? <Alert variant='danger'>It seems that we don't have any instructors that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\titemsCountPerPage={INSTRUCTORS_PER_PAGE}\n\t\t\t\t\t\t\ttotalItemsCount={instructorListData.length}\n\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n \t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Instructors;\n","import React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport Rater from 'react-rater'\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport './UserProfile.css'\n\nclass UserProfile extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: {},\n            classesTaken: [],\n            activePage: 1,\n            noClassWarning: false\n        };\n\n        this.rateLearner = this.rateLearner.bind(this);\n    }\n\n\n    componentDidMount() {\n        const { userId } = this.props.match.params;\n        const url = '/api/my-account/' + userId;\n        console.log(url);\n        fetch(url)\n          .then(response => response.json())\n          .then(data => this.setState({currentUser:data[0]}))\n        \n        // const data = {\"sumOfRatingAsInstructor\":0,\"numOfRatingAsInstructor\":0,\"sumOfRatingAsLearner\":0,\"numOfRatingAsLearner\":0,\"_id\":\"5cafbea33b93c520a141dfa7\",\"name\":\"test\",\"email\":\"hi@test.com\",\"password\":\"$2a$10$tL1NRESoZ8sfZRhxvOOpHeL17yDi5cHLS98XZVVUWAU6U89di/Tsi\",\"date\":\"2019-04-11T22:24:35.651Z\",\"__v\":0,\"instructorRating\":0,\"learnerRating\":0};\n        // this.setState({currentUser: data});\n        // console.log(data.Introduction);\n\n        const url2 = '/api/class-history-take/' + userId;\n        console.log(url2);\n        fetch(url2)\n            .then(response => response.json())\n            .then((data) => {\n                if (data.length === 0) {\n                    this.setState({noTakeClassWarning: true, classesTaken: data});\n                }\n                else {\n                    this.setState({noTakeClassWarning: false, classesTaken: data});\n                }\n            });\n\n        // const data2 = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":10,\"proposedSchedule\":\"Monday\",\"instructor\":\"5cae87f7241167dc0675a704\",\"rating\":\"9.6\",\"category\":\"Music\"},{\"_id\":\"5cb12adbb5966c04c0927891\",\"name\":\"violin\",\"description\":\"learn how to play violin\",\"price\":100,\"proposedSchedule\":\"Mon, Wed 1-2pm\",\"instructor\":\"5cafbea33b93c520a141dfa7\",\"category\":\"Music\",\"rating\":0,\"sumOfRating\":0,\"numOfRating\":0,\"__v\":0}];\n        // this.setState({classesTaken: data2});\n        // if (data2.length === 0) {\n        //     this.setState({noClassWarning: true});\n        // } \n    }\n\n    rateLearner(e) {\n\n        if (this.props.auth.isAuthenticated) {\n\n            console.log(e.rating);\n\n            const newRatingObj = {};\n\n            const newSumOfRatingAsLearner = this.state.currentUser.sumOfRatingAsLearner + e.rating;\n            console.log(newSumOfRatingAsLearner);\n            newRatingObj.newSumOfRatingAsLearner = newSumOfRatingAsLearner;\n            const newNumOfRatingAsLearner = this.state.currentUser.numOfRatingAsLearner + 1;\n            console.log(newNumOfRatingAsLearner);\n            newRatingObj.newNumOfRatingAsLearner = newNumOfRatingAsLearner;\n\n            const userId = this.props.match.params.userId;\n            newRatingObj.userId = userId;\n            const instructorId = this.props.auth.user.id;\n            newRatingObj.instructorId = instructorId;\n            console.log(newRatingObj);\n\n            fetch(\"/api/rate-learner/\", {\n                method: \"POST\",\n                body: JSON.stringify(newRatingObj),\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        else {\n            this.props.history.push(\"/login\");\n        }\n    }\n\n    handlePageChange(pg) {\n        this.setState({activePage: pg});\n    }\n\n    render() {\n        const { classId } = this.props.match.params;\n        const userData = this.state.currentUser;\n\n        const classListData = this.state.classesTaken.map(function(data, index) {\n            return <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructor} rating={data.rating} category={data.category} slug={data._id}/>\n        });\n        \n        const CLASSES_PER_PAGE = 4;\n\n        const startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n        const endIdx = startIdx + CLASSES_PER_PAGE;\n        const toDisplay = classListData.slice(startIdx, endIdx);\n        const pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n        return (\n            <div className='detail-page-container'>\n                <Jumbotron>\n                    <h1>Profile: {userData.name}</h1>\n                </Jumbotron>\n                <div className='detail-container'>\n                    <Row>\n                        <Col sm={5}>\n                            <div className='detail-image-container'>\n                                <img alt='user profile' src='/images/default-user.png' className='user-image'></img>\n                            </div>\n                        </Col>\n                        <Col sm={7}>\n                            <div className=\"detail-text-container\">\n                                <h3>Name</h3>\n                                <p>{userData.name}</p>\n                                <h3>Email</h3>\n                                <p>{userData.email}</p>\n                                <h3>Introduction</h3>\n                                { userData.introduction === undefined ? <p>[This user has not provided introduction.] </p> : <p>{userData.introduction}</p> }\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <div className='rating-container'>\n                            <h3>Rating</h3>\n                            <Rater total = {5} rating = {userData.learnerRating} interactive = {false}/>\n                            <p>Rate this class: </p>\n                            <Rater total={5} onRate={this.rateLearner} />\n                        </div>\n                    </Row>\n                    <Row>\n                        <div className='class-history-container'>\n                            <h3>Classes Taken by {userData.name}</h3>\n                            {toDisplay}\n                            { this.state.noClassWarning ? <Alert variant='danger'>It seems that the user have not taken any class at this time.</Alert> : null }\n                            <div className='pagination-container'>\n                                <Pagination\n                                    activePage={this.state.activePage}\n                                    itemsCountPerPage={CLASSES_PER_PAGE}\n                                    totalItemsCount={classListData.length}\n                                    pageRangeDisplayed={pageRange}\n                                    onChange={this.handlePageChange.bind(this)}\n                                />\n                            </div>\n                        </div>\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nUserProfile.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(UserProfile);","import axios from \"axios\";\nconst setAuthToken = token => {\n  if (token) {\n    // Apply authorization token to every request if logged in\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    // Delete auth header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setAuthToken;","import axios from \"axios\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n  USER_LOADING\n} from \"./types\";\n// Register User\nexport const registerUser = (userData, history) => dispatch => {\n  axios\n    .post(\"/api/users/register\", userData)\n    .then(res => history.push(\"/login\")) // re-direct to login on successful register\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Login - get user token\nexport const loginUser = userData => dispatch => {\n  axios\n    .post(\"/api/users/login\", userData)\n    .then(res => {\n      // Save to localStorage\n// Set token to localStorage\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      // Set token to Auth header\n      setAuthToken(token);\n      // Decode token to get user data\n      const decoded = jwt_decode(token);\n      // Set current user\n      dispatch(setCurrentUser(decoded));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Set logged in user\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n// User loading\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING\n  };\n};\n// Log user out\nexport const logoutUser = () => dispatch => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentUser({}));\n  //history.push('/login');\n};","export const GET_ERRORS = \"GET_ERRORS\";\nexport const USER_LOADING = \"USER_LOADING\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import React, { Component } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavItem from \"react-bootstrap/NavItem\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport Button from \"react-bootstrap/Button\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\n\nimport \"./NavBar.css\";\n\nclass NavBar extends Component {\n\tlogout() {\n\t\tthis.props.logoutUser();\n\t}\n\n\trender() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconsole.log(this.props.auth);\n\t\t\treturn (\n\t\t\t\t<Navbar bg=\"primary\" variant=\"dark\">\n\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t<Navbar.Brand>TeachMe</Navbar.Brand>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">Home</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/classes\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tClass Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/instructors\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tInstructor Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/about\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">About</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<LinkContainer to=\"/my-account\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tHello {this.props.auth.user.name}\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<NavDropdown\n\t\t\t\t\t\t\ttitle=\"Quick Access\"\n\t\t\t\t\t\t\tid=\"collasible-nav-dropdown\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<LinkContainer to=\"/class-history\">\n\t\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.1\">\n\t\t\t\t\t\t\t\t\tMy Class History\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/create-class\">\n\t\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.1\">\n\t\t\t\t\t\t\t\t\tPublish New Class\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Navbar bg=\"primary\" variant=\"dark\">\n\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t<Navbar.Brand>TeachMe</Navbar.Brand>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">Home</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/classes\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tClass Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/instructors\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tInstructor Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/about\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">About</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<LinkContainer to=\"/login\">\n\t\t\t\t\t\t\t<Button variant=\"outline-light\">Log In</Button>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/register\">\n\t\t\t\t\t\t\t<Button variant=\"outline-light\">Sign Up</Button>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar>\n\t\t\t);\n\t\t}\n\t}\n}\n\nNavBar.propTypes = {\n\tauth: PropTypes.object.isRequired,\n\tlogoutUser: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(\n\tmapStateToProps,\n\t{ logoutUser }\n)(NavBar);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nimport './Login.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/my-account\"); // push user to dashboard when they login\n    }\n\n    if (nextProps.errors) {\n          this.setState({\n            errors: nextProps.errors\n          });\n        }\n    }\n\nonChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\nonSubmit = e => {\n    e.preventDefault();\n    const userData = {\n          email: this.state.email,\n          password: this.state.password\n        };\n    this.props.loginUser(userData);\n  };\nrender() {\n    const { errors } = this.state;\nreturn (\n      <div className=\"container\">\n        <div style={{ marginTop: \"4rem\" }} className=\"row\">\n          <div className=\"col s8 offset-s2\">\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n              <h4>\n                <b>Login</b> below\n              </h4>\n              <p className=\"grey-text text-darken-1\">\n                Don't have an account? <Link to=\"/register\">Register</Link>\n              </p>\n            </div>\n            <form noValidate onSubmit={this.onSubmit}>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={errors.email}\n                  id=\"email\"\n                  type=\"email\"\n                  className={classnames(\"\", {\n                    invalid: errors.email || errors.emailnotfound\n                  })}\n                />\n                <label htmlFor=\"email\">Email</label>\n                <span className=\"red-text\">\n                  {errors.email}\n                  {errors.emailnotfound}\n                </span>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  error={errors.password}\n                  id=\"password\"\n                  type=\"password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password || errors.passwordincorrect\n                  })}\n                />\n                <label htmlFor=\"password\">Password</label>\n                <span className=\"red-text\">\n                  {errors.password}\n                  {errors.passwordincorrect}\n                </span>\n              </div>\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <button\n                  style={{\n                    width: \"150px\",\n                    borderRadius: \"3px\",\n                    letterSpacing: \"1.5px\",\n                    marginTop: \"1rem\"\n                  }}\n                  type=\"submit\"\n                  className=\"btn btn-large waves-effect waves-light hoverable\"\n                >\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);\n","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nimport './Register.css';\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\nonChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\nonSubmit = e => {\n    e.preventDefault();\nconst newUser = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2\n    };\nthis.props.registerUser(newUser, this.props.history); \n  };\n\n\nrender() {\n    const { errors } = this.state;\nreturn (\n      <div className=\"container\">\n        <div style={{ marginTop: \"4rem\" }} className=\"row\">\n          <div className=\"col s8 offset-s2\">\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n              <h4>\n                <b>Register</b> below\n              </h4>\n              <p className=\"grey-text text-darken-1\">\n                Already have an account? <Link to=\"/login\">Log in</Link>\n              </p>\n            </div>\n            <form noValidate onSubmit={this.onSubmit}>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.name}\n                  error={errors.name}\n                  id=\"name\"\n                  type=\"text\"\n                  className={classnames(\"\", {\n                    invalid: errors.name\n                  })}\n                />\n                <label htmlFor=\"name\">Name</label>\n                <span className=\"red-text\">{errors.name}</span>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={errors.email}\n                  id=\"email\"\n                  type=\"email\"\n                  className={classnames(\"\", {\n                    invalid: errors.email\n                  })}\n                />\n                <label htmlFor=\"email\">Email</label>\n                <span className=\"red-text\">{errors.email}</span>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  error={errors.password}\n                  id=\"password\"\n                  type=\"password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password\n                  })}\n                />\n                <label htmlFor=\"password\">Password</label>\n                <span className=\"red-text\">{errors.password}</span>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password2}\n                  error={errors.password2}\n                  id=\"password2\"\n                  type=\"password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password2\n                  })}\n                />\n                <label htmlFor=\"password2\">Confirm Password</label>\n                <span className=\"red-text\">{errors.password2}</span>\n              </div>\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <button\n                  style={{\n                    width: \"150px\",\n                    borderRadius: \"3px\",\n                    letterSpacing: \"1.5px\",\n                    marginTop: \"1rem\"\n                  }}\n                  type=\"submit\"\n                  className=\"btn btn-large waves-effect waves-light hoverable\"\n                >\n                  Sign up\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser }\n)(withRouter(Register));","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\n//import Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nimport './StudentDisplay.css'\n\nclass StudentDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <LinkContainer to={\"/user/\" + this.props.userID}>\n                    <Card.Body>\n                        <Card.Img className=\"student-img\" src=\"/images/default-user.png\"></Card.Img>\n                        <Card.Title>{this.props.name}</Card.Title>\n                        <Card.Text>Registered on: {this.props.signupDate}</Card.Text>\n                    </Card.Body>\n                </LinkContainer>\n            </Card>\n        )\n    }\n}\n\nexport default StudentDisplay;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\n\nclass StudentDisplay extends Component {\n    render() {\n        return(\n            <Card>\n            <LinkContainer to={\"/user/\" + this.props.userID}>\n                <Card.Body>\n                    <Card.Img className=\"student-img\" src=\"/images/default-user.png\"></Card.Img>\n                    <Card.Subtitle>{this.props.name} says:</Card.Subtitle>\n                    <Card.Text>{this.props.commentText}</Card.Text>\n                    <Card.Text className='italics-text'>Published on: {this.props.commentDate}</Card.Text>\n                </Card.Body>\n            </LinkContainer>\n            </Card>\n        )\n    }\n}\n\nexport default StudentDisplay;","import React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Alert from 'react-bootstrap/Alert';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { StudentDisplay } from '../../components/StudentDisplay';\nimport { Comment } from '../../components/Comment';\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport './ClassDetail.css'\n\nclass ClassDetail extends Component {\n\n    constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n            currentClass: {},\n            successRedirect: {},\n            commentSubmitStatus: {},\n            loginRequired: false,\n            classNotRegistered: false,\n            noStudentAlert: false,\n            isInstructor: false,\n            noCommentAlert: false,\n            archiveModalDisplay: false,\n            completeModalDisplay: false,\n            studentsList: [],\n            comments: [],\n            textAreaValue: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleWithdraw = this.handleWithdraw.bind(this);\n        this.getStudents = this.getStudents.bind(this);\n        this.deleteClass = this.deleteClass.bind(this);\n        this.archiveClass = this.archiveClass.bind(this);\n        this.completeClass = this.completeClass.bind(this);\n        this.getComments = this.getComments.bind(this);\n        this.submitComment = this.submitComment.bind(this);\n        this.showConfirmArchive = this.showConfirmArchive.bind(this);\n        this.handleCloseArchiveModal = this.handleCloseArchiveModal.bind(this);\n        this.showConfirmComplete = this.showConfirmComplete.bind(this);\n        this.handleCloseCompleteModal = this.handleCloseCompleteModal.bind(this);\n    }\n\n    deleteClass() {\n\n    }\n\n    showConfirmComplete() {\n        this.setState({completeModalDisplay: true});\n    }\n\n    handleCloseCompleteModal() {\n        this.setState({completeModalDisplay: false});\n    }\n\n    showConfirmArchive() {\n        this.setState({archiveModalDisplay: true});\n    }\n\n    handleCloseArchiveModal() {\n        this.setState({archiveModalDisplay: false});\n    }\n\n    completeClass() {\n      const { classId } = this.props.match.params;\n\n      if(this.props.auth.isAuthenticated) {\n        const newUserClassPair = {};\n        newUserClassPair.userID = this.props.auth.user.id;\n        newUserClassPair.classID = classId;\n        newUserClassPair.complete = true;\n\n        console.log(newUserClassPair);\n\n        const url = '/api/complete-class';\n        fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(newUserClassPair),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json())\n          .then(data => this.setState({successRedirect: data}));\n\n      }\n      else {\n        this.setState({loginRequired: true});\n        setTimeout(() => {\n          this.props.history.push(\"/login\");\n        },2000);\n      }\n    }\n\n    archiveClass() {\n      if (this.props.auth.isAuthenticated) {\n          if (this.state.currentClass.instructorID === this.props.auth.user.id) {\n              const newClassObj = {};\n              const { classId } = this.props.match.params;\n              newClassObj.classID = classId;\n              newClassObj.archive = true;\n\n              console.log(newClassObj);\n              const url = '/api/archive-class';\n              fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(newClassObj),\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Accept': 'application/json'\n                }\n              }).then(response => response.json())\n                .then(data => this.setState({successRedirect: data}));\n          }\n      }\n      else {\n        this.setState({loginRequired: true});\n        setTimeout(() => {\n            this.props.history.push(\"/login\");\n        }, 2000);\n      }\n    }\n\n    getStudents() {\n        if (this.props.auth.isAuthenticated) {\n            if (this.state.currentClass.instructorID === this.props.auth.user.id) {\n                const { classId } = this.props.match.params;\n                const url = '/api/get-students/' + classId;\n                fetch(url)\n                    .then(response => response.json())\n                    .then(data => this.setState({studentsList: data}, function() {\n                        if (this.state.studentsList.length === 0) {\n                            this.setState({noStudentAlert: true});\n                        }\n                    }));\n            }\n            else {\n                this.setState({isInstructor: false});\n            }\n        }\n        else {\n            this.setState({loginRequired: true});\n            setTimeout(() => {\n                this.props.history.push(\"/login\");\n            }, 2000);\n        }\n        /*\n        const data = [{date: '2019-1-1', userID: {name: 'test'}}, {date: '2019-1-2', userID: {name: 'test2'}}, {date: '2019-1-3', userID: {name: 'haha'}}, {date: '2019-1-1', userID: {name: 'test'}}, {date: '2019-1-1', userID: {name: 'test'}}];\n        this.setState({studentsList: data});\n        */\n    }\n\n    handleSubmit() {\n        const { classId } = this.props.match.params;\n\n        if (this.props.auth.isAuthenticated) {\n            const newUserClassPair = {};\n            newUserClassPair.userID = this.props.auth.user.id;\n            newUserClassPair.classID = classId;\n\n            const url = '/api/register-class';\n            fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(newUserClassPair),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then(response => response.json())\n                .then(data => this.setState({successRedirect: data}));\n        }\n        else {\n            this.setState({loginRequired: true});\n            setTimeout(() => {\n                this.props.history.push(\"/login\");\n            }, 2000);\n        }\n    }\n\n    handleWithdraw() {\n        const { classId } = this.props.match.params;\n\n        if (this.props.auth.isAuthenticated) {\n            const newUserClassPair = {};\n            newUserClassPair.userID = this.props.auth.user.id;\n            newUserClassPair.classID = classId;\n\n            const url = '/api/drop-class';\n            fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(newUserClassPair),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then(response => response.json())\n                .then(data => this.setState({successRedirect: data}));\n        }\n        else {\n            this.setState({loginRequired: true});\n            setTimeout(() => {\n                this.props.history.push(\"/login\");\n            }, 2000);\n        }\n    }\n\n    getComments() {\n        const { classId } = this.props.match.params;\n        const url = '/api/comments/' + classId;\n        fetch(url)\n            .then(response => response.json())\n            .then(data => this.setState({comments: data}, function() {\n                if (this.state.comments.length === 0) {\n                    this.setState({noCommentAlert: true, textAreaValue: ''});\n                }\n                else {\n                    this.setState({noCommentAlert: false, textAreaValue: ''});\n                }\n            }));\n\n        /*\n        const s = 'All incoming students must submit official copies of university transcripts/academic records from all previously attended universities along with official test scores (if applicable) to Cornell Tech.To be considered official, the required documents must be received directly from the issuing institution and properly authenticated. If your transcripts/academic records are not in English, you must provide an official English translation in addition to your official transcripts/academic records. If your transcripts/academic records do not state your degree-conferral date, you must also provide an official copy of your degree certificate.';\n        const data = [{name: 'someone', commentText: s, commentDate: '2019-1-1'}, {name: 'someone', commentText: s, commentDate: '2019-1-1'}];\n        this.setState({comments: data});\n        */\n    }\n\n    submitComment(event) {\n        event.preventDefault();\n\n        if (this.props.auth.isAuthenticated) {\n            const { classId } = this.props.match.params;\n            const commentForm = new FormData(event.currentTarget);\n            const commentObj = {};\n    \n            for (let item of commentForm.entries()) {\n                commentObj[item[0]] = item[1];\n            }\n    \n            console.log(commentObj);\n    \n            const url = '/api/comments/' + classId + '/' + this.props.auth.user.id;\n            fetch(url, {\n                method: 'POST',\n                body: JSON.stringify(commentObj),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            }).then(response => response.json())\n                .then(data => this.setState({commentSubmitStatus: data}, () => this.getComments()));\n        }\n        else {\n            this.setState({loginRequired: true});\n            setTimeout(() => {\n                this.props.history.push(\"/login\");\n            }, 2000);\n        }\n    }\n\n    componentDidMount() {\n\n        \n        const { classId } = this.props.match.params;\n        const url = '/api/classes/' + classId;\n        fetch(url)\n\t\t\t.then(response => response.json())\n            .then(data => this.setState(\n                {currentClass: data},\n                () => {\n                    if (this.props.auth.isAuthenticated) {\n                        if (this.state.currentClass.instructorID === this.props.auth.user.id) {\n                            this.setState({isInstructor: true});\n                        }\n                    }\n                    this.getComments();\n                }));\n        \n        /*\n        const data = {\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"};\n        this.setState({currentClass: data});\n        */\n\n    }\n\n    render() {\n        const { classId } = this.props.match.params;\n        const classData = this.state.currentClass;\n        const studentData = this.state.studentsList.map(function(data, index) {\n            return <StudentDisplay key={index} name={data.userID.name} signupDate={data.date} userID={data.userID._id} />\n        });\n        const commentData = this.state.comments.map(function (data, index) {\n            return <Comment key={index} name={data.name} commentText={data.commentText} commentDate={data.commentDate} userID={data.userID} />\n        })\n\n        const instructorButtons  =\n            <div className='detail-buttons-container'>\n                <Button onClick={this.getStudents} variant=\"info\">See Registered Students</Button>\n                <LinkContainer to={\"/edit-class/\" + classId}><Button variant=\"info\">Edit Class</Button></LinkContainer>\n                {/* <Button onClick={this.deleteClass} variant=\"warning\" disabled>Delete Class</Button> */}\n                <Button onClick={this.showConfirmArchive} variant=\"warning\">Archive Class</Button>\n                <Modal show={this.state.archiveModalDisplay} onHide={this.handleCloseArchiveModal}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Confirm Class Archive</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>Are you sure that you want to archive this class? If yes, we will notify your students and this class will no longer be open to registration.</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleCloseArchiveModal} > Oops, go back </Button>\n                        <Button variant=\"primary\" onClick={this.archiveClass}> Yes </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n\n        const studentButtons =\n            <div className='detail-buttons-container'>\n                <Button onClick={this.handleSubmit} variant=\"info\">Register now!</Button>\n                <Button onClick={this.handleWithdraw} variant=\"warning\">Withdraw from Class</Button>\n                <Button variant=\"info\" disabled>Contact Instructor (Coming Soon)</Button>\n                <Button onClick={this.showConfirmComplete} variant=\"warning\">Mark Class as Completed</Button>\n                <Modal show={this.state.completeModalDisplay} onHide={this.handleCloseCompleteModal}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Confirm Class Archive</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>Are you sure that you want to mark this class as completed? If yes, we will mark this class as completed and notify your instructor.</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleCloseCompleteModal}>Oops, go back</Button>\n                        <Button variant=\"primary\" onClick={this.completeClass}>Yes</Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n\n        return (\n            <div className='detail-page-container'>\n                <Jumbotron>\n\t\t\t\t\t<h1>Class Detail: {classData.name}</h1>\n\t\t\t\t\t<p>{classData.description}</p>\n\t\t\t\t</Jumbotron>\n                <div className='detail-container'>\n                    <Row>\n                        <Col sm={5}>\n                            <div className='detail-image-container'>\n                                <img alt='instructor profile' src='/images/default-user.png' className='instructor-image'></img>\n                                <p>Class taught by:</p>\n                                <LinkContainer to={'/instructor/' + classData.instructorID} className='instructor-link'><h5>{classData.instructorName}</h5></LinkContainer>\n                            </div>\n                        </Col>\n                        <Col sm={7}>\n                            <div className=\"detail-text-container\">\n                                <h3>About</h3>\n                                <p>{classData.about}</p>\n                                <h3>Pricing</h3>\n                                <p>${classData.price}</p>\n                                <h3>Proposed Class Schedule</h3>\n                                <p>{classData.proposedSchedule}</p>\n                                <h3>Class Category</h3>\n                                <p>{classData.category}</p>\n                                <h3>Payment Link</h3>\n                                <a href={'https://' + classData.paymentLink} target=\"_blank\">{classData.paymentLink}</a>\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <div className='alerts-container'>\n                            { this.state.successRedirect.status === 'success' ? <Alert variant='success' className='success-alert'>You have successfully {this.state.successRedirect.result} this class!</Alert> : null }\n                            { this.state.successRedirect.status === 'error' ? <Alert variant='danger' className='error-alert'>Oops, it seems that we have encountered a problem: {this.state.successRedirect.result}</Alert> : null }\n                            { this.state.loginRequired ? <Alert variant='danger' className='login-alert'>It seems that you have not logged in. We are now taking you to the log in page.</Alert> : null }\n                            { this.state.notInstructorAlert ? <Alert variant='danger' className='not-instructor-alert'>Registered student information is only visible to the instructor of this class.</Alert> : null }\n                            { this.state.noStudentAlert ? <Alert variant='warning' className='no-student-alert'>There are no registered students for this class.</Alert> : null }\n                        </div>\n                    </Row>\n                    <Row>\n                        { this.state.isInstructor ? instructorButtons : studentButtons }\n                    </Row>\n                    <Row>\n                        <div className='student-list-container'>\n                            {studentData}\n                        </div>\n                    </Row>\n                    <Row>\n                        <div className='detail-comments-container'>\n                            <h3>Comments</h3>  \n                            { commentData }\n                            <div className='alerts-container'>\n                                { this.state.commentSubmitStatus.status === 'success' ? <Alert variant='success' className='success-alert'>You have successfully submitted your comment!</Alert> : null }\n                                { this.state.commentSubmitStatus.status === 'error' ? <Alert variant='danger' className='error-alert'>Oops, it seems that we have encountered a problem: {this.state.commentSubmitStatus.result}.</Alert> : null }\n                                { this.state.noCommentAlert ? <Alert variant='warning' className='not-comment-alert'>There are no comments yet. Submit your comment below and make it the first one!</Alert> : null }\n                            </div>\n                            <div className='comment-input-container'>\n                                <Form onSubmit={e => this.submitComment(e)}>\n                                    <Form.Group controlId=\"comment-textarea\">\n                                        <Form.Control as=\"textarea\" rows=\"3\" name=\"commentText\" value={this.state.textAreaValue} onChange={e => this.setState({ textAreaValue: e.target.value })}/>\n                                    </Form.Group>\n                                    <Button variant=\"primary\" type=\"submit\">Submit Comment</Button>\n                                </Form>\n                            </div>\n                        </div>\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n}\n\nClassDetail.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(ClassDetail);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      auth.isAuthenticated === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\nPrivateRoute.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\n\nimport \"./Dashboard.css\";\n\nclass Dashboard extends Component {\n\tonLogoutClick = e => {\n\t\te.preventDefault();\n\t\tthis.props.logoutUser();\n\t};\n\trender() {\n\t\tconst { user } = this.props.auth;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ height: \"75vh\" }}\n\t\t\t\tclassName=\"container valign-wrapper\"\n\t\t\t>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col s12 center-align\">\n\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t<b>Are you sure you want to log out, </b>{\" \"}\n\t\t\t\t\t\t\t{user.name.split(\" \")[0]} <b>?</b>\n\t\t\t\t\t\t\t<p className=\"flow-text grey-text text-darken-1\">\n\t\t\t\t\t\t\t\tPress the button below to confirm.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"150px\",\n\t\t\t\t\t\t\t\tborderRadius: \"3px\",\n\t\t\t\t\t\t\t\tletterSpacing: \"1.5px\",\n\t\t\t\t\t\t\t\tmarginTop: \"1rem\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={this.onLogoutClick}\n\t\t\t\t\t\t\tclassName=\"btn btn-large waves-effect waves-light hoverable\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nDashboard.propTypes = {\n\tlogoutUser: PropTypes.func.isRequired,\n\tauth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\nexport default connect(\n\tmapStateToProps,\n\t{ logoutUser }\n)(Dashboard);","\nimport React, { Component } from 'react';\nimport Rater from 'react-rater'\nimport 'react-rater/lib/react-rater.css'\n\nimport './InstructorProfile.css'\n\nclass InstructorProfile extends Component {\n  \n  constructor(props) {\n    super(props);\n\n    this.state = {\n        instructor:  {}\n    };\n  }\n\n  instructorRating() {\n    \n    const {sumOfRating, numOfRating } = this.state.instructor\n    return sumOfRating / numOfRating\n  }\n\n\n  rateInstructor(rating) {\n    \n    const {userId} = this.props.match.params;\n    fetch('/api/instructor/' + userId + '/rating', {\n        method: 'POST',\n        body: rating,\n    }).then(response => {})\n  }\n\n  addComment(comment) {\n    \n    const {userId} = this.props.match.params;\n    fetch('/api/instructor/' + userId + '/add_comment', {\n        method: 'POST',\n        body: comment,\n    }).then(response => {})\n  }\n\n  componentDidMount() {\n    \n    const {userId} = this.props.match.params;\n    fetch('/api/instructor/' + userId + '/info')\n        .then(response => response.json())\n        .then(data => this.setState({instructor: data[0]}))\n  }\n\n  render() {\n    \n    const {instructor} = this.state;\n    if (instructor.name === undefined) {\n        return <div className='instructor-profile-page'><h4>Loading...</h4></div>\n    }\n    return (\n      \n      <div className='instructor-profile-page'>\n        <h3 className='title'>Instructor {instructor.name}</h3>\n        <h4>Students Rating</h4>\n        <Rater\n            total={5} \n            rating={this.instructorRating()}\n        />\n        <hr/>\n        <h4>Description</h4>\n        <p>{instructor.description}</p>\n        <hr />\n        <div>\n          <strong>Rating:</strong>  He/She is a <Rater total={5} onRate={this.rateInstructor()} /> Instructor.\n        </div>\n        <hr />\n        <h4>Comments</h4>\n        <br/>\n        {\n            \n            instructor.comments === undefined ?  (\n            <div className='no-comments'>No comments yet.</div>)  :\n            (instructor.comments.map(comment => \n                <div className='comment'>\n                    <span className='comment-name'>{comment.name}</span><br/>\n                    <span className='comment-content'>{comment.content}</span><br/>\n                    <span className='comment-date'>{comment.date}</span>\n                </div>))\n    \n        }\n      </div>\n    );\n  }\n\n\n}\n\n\nexport default InstructorProfile;\n","import {\n  SET_CURRENT_USER,\n  USER_LOADING\n} from \"../actions/types\";\nconst isEmpty = require(\"is-empty\");\nconst initialState = {\n  isAuthenticated: false,\n  user: {},\n  loading: false\n};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !isEmpty(action.payload),\n        user: action.payload\n      };\n    case USER_LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    default:\n      return state;\n  }\n}","import { GET_ERRORS } from \"../actions/types\";\nconst initialState = {};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload;\n    default:\n      return state;\n  }\n}","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducers\";\nimport errorReducer from \"./errorReducers\";\nexport default combineReducers({\n  auth: authReducer,\n  errors: errorReducer\n});","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\nconst middleware = [thunk];\nexport const store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    (window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()) || compose \n  )\n);\n","//https://github.com/evedes/ReactRouter_Boilerplate_01\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport React from 'react';\nimport { Home } from './views/Home';\nimport { NoMatch } from './views/NoMatch';\nimport { Classes } from './views/Classes'\nimport { CreateClass } from './views/CreateClass'\nimport { EditClass } from './views/EditClass'\nimport { MyAccount } from './views/MyAccount'\nimport { ClassHistory } from './views/ClassHistory'\nimport { Instructors } from './views/Instructors'\nimport { UserProfile } from './views/UserProfile'\nimport { NavBar } from './components/NavBar';\nimport { Login } from './views/Login';\nimport { Register } from './views/Register';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport ClassDetail from './views/ClassDetail/ClassDetail';\nimport PrivateRoute from \"./views/private-route/PrivateRoute\";\nimport { Dashboard } from \"./views/Dashboard\";\nimport { InstructorProfile } from './views/InstructorProfile'\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n// Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\nexport const Routes = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t<Router>\n\t\t<div>\n\t\t\t<NavBar />\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n\t\t\t\t<Route exact path=\"/home\" component={Home} />\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Redirect to=\"/home\" />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/classes\" component={Classes} />\n\t\t\t\t<Route exact path=\"/classes/:classId\" component={ClassDetail} />\n\t\t\t\t<Route exact path=\"/create-class\" component={CreateClass} />\n\t\t\t\t<Route exact path=\"/edit-class/:classId\" component={EditClass} />\n\t\t\t\t<Route exact path=\"/my-account\" component={MyAccount} />\n\t\t\t\t<Route exact path=\"/class-history\" component={ClassHistory}/>\n\t\t\t\t<Route exact path=\"/instructors\" component={Instructors} />\n\t\t\t\t<Route exact path=\"/user/:userId\" component={UserProfile} />\n\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\t\t\t\t<Route exact path=\"/instructor/:userId/info\" component={InstructorProfile} />\n\t\t\t\t<Route component={NoMatch} />\n\t\t\t</Switch>\n\t\t</div>\n\t\t</Router>\n\t\t</Provider>\n\t);\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Routes } from './routes';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n        <Routes />, \n    document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}