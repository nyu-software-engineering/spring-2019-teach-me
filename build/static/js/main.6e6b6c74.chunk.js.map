{"version":3,"sources":["components/ClassDisplay/ClassDisplay.js","components/InstructorDisplay/InstructorDisplay.js","views/Home/Home.js","views/NoMatch/NoMatch.js","components/ClassFilter/ClassFilter.js","views/Classes/Classes.js","views/CreateClass/CreateClass.js","views/EditClass/EditClass.js","views/MyAccount/MyAccount.js","views/ClassHistory/ClassHistory.js","components/InstructorFilter/InstructorFilter.js","views/Instructors/Instructors.js","views/UserProfile/UserProfile.js","utils/setAuthToken.js","actions/authActions.js","actions/types.js","components/NavBar/NavBar.js","views/Login/Login.js","views/Register/Register.js","components/StudentDisplay/StudentDisplay.js","components/Comment/Comment.js","views/ClassDetail/ClassDetail.js","views/private-route/PrivateRoute.js","views/Dashboard/Dashboard.js","views/InstructorProfile/InstructorProfile.js","views/About/About.js","reducers/authReducers.js","reducers/errorReducers.js","reducers/index.js","store.js","routes.js","serviceWorker.js","index.js"],"names":["ClassDisplay","react_default","a","createElement","Card_default","Body","Img","className","src","this","props","instructorProfilePic","Title","title","Text","description","instructor","price","rating","category","lib","to","slug","Button_default","variant","Component","InstructorDisplay","userProfilePic","name","introduction","Home","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","featuredClasses","featuredInstructors","currentDisplay","displayClasses","bind","assertThisInitialized","displayInstructors","setState","_this2","fetch","then","response","json","data","typed","react_typed_default","strings","typeSpeed","backSpeed","shuffle","loop","classListData","map","index","components_ClassDisplay_ClassDisplay","key","instructorName","_id","moreClassBtn","push","instructorListData","components_InstructorDisplay_InstructorDisplay","profilePicURL","moreInstructorBtn","Nav_default","defaultActiveKey","Item","Link","eventKey","onSelect","NoMatch","Jumbotron_default","ClassFilter","maxPrice","minRating","classCategory","isArchived","e","filterType","target","id","value","filterResults","Form","Group","controlId","onChange","Control","as","undefined","displayArchiveOptions","Classes","classListing","allClasses","activePage","showWarning","pg","query","filteredClasses","i","length","includeInResult","c","parseFloat","startIdx","endIdx","toDisplay","slice","pageRange","Math","min","components_ClassFilter_ClassFilter","Alert_default","Pagination_default","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","handlePageChange","CreateClass","handleSubmit","handleCancel","handleUrl","successRedirect","urlError","auth","isAuthenticated","history","userUrl","validator","isURL","preventDefault","newClassData","FormData","newClassObj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","Symbol","iterator","next","done","userInput","err","return","instructorId","user","method","body","JSON","stringify","headers","Content-Type","result","setTimeout","url","newClassID","Redirect","onSubmit","type","required","onBlur","onClick","connect","EditClass","class","originator","Originator","careTaker","CareTaker","handleSave","handleRestore","handleNameChange","handleDescriptionChange","handleAboutChange","handlePriceChange","handleProposedScheduleChange","handleCategoryChange","classId","match","params","assign","proposedSchedule","payment","_this3","SetMemento","saveState","restoreState","GetMemento","output","alert","defaultValue","about","paymentLink","Memento","_obj","conState","_conState","MyAccount","userId","IsReadOnly","imageIsReadOnly","pleaseWait","profileUploadSuccess","successCheck","instructorRating","learnerRating","handleEmailChange","handleIntroductionChange","handleEditClick","handleClassHistory","handleLogOut","fileSelectedHandler","numOfRatingAsInstructor","sumOfRatingAsInstructor","numOfRatingAsLearner","event","newUser","email","newUserData","newUserObj","Accept","_this4","formData","append","files","res","Row_default","Col_default","sm","alt","readOnly","react_rater_lib_default","total","interactive","ClassHistory","userID","filterWarning","noTeachClassWarning","noTakeClassWarning","archive","currentSection","ReactDOM","findDOMNode","filterForm","reset","displayTeach","complete","fill","displayTake","ref","form","InstructorFilter","instructorCategory","Instructors","instructorListing","allInstructors","categories","_loop","temp","console","log","j","noMatch","components_InstructorFilter_InstructorFilter","UserProfile","currentUser","classesTaken","noClassWarning","ratingSubmitStatus","rateLearner","newRatingObj","newSumOfRatingAsLearner","sumOfRatingAsLearner","newNumOfRatingAsLearner","updatedUser","toFixed","userData","onRate","status","setAuthToken","token","axios","defaults","common","setCurrentUser","decoded","payload","logoutUser","dispatch","localStorage","removeItem","NavBar","Navbar_default","bg","Brand","NavItem_default","NavDropdown_default","href","Login","defineProperty","password","loginUser","errors","nextProps","noValidate","error","classnames","invalid","emailnotfound","htmlFor","passwordincorrect","post","setItem","jwt_decode","catch","Register","password2","registerUser","withRouter","StudentDisplay","signupDate","Subtitle","commentText","commentDate","ClassDetail","currentClass","commentSubmitStatus","loginRequired","classNotRegistered","noStudentAlert","isInstructor","noCommentAlert","archiveModalDisplay","completeModalDisplay","studentsList","comments","textAreaValue","handleWithdraw","getStudents","deleteClass","archiveClass","completeClass","getComments","submitComment","showConfirmArchive","handleCloseArchiveModal","showConfirmComplete","handleCloseCompleteModal","rateClass","newSumOfRating","sumOfRating","newNumOfRating","numOfRating","updatedClass","newUserClassPair","classID","instructorID","_this5","_this6","_this7","_this8","_this9","commentForm","currentTarget","commentObj","item","_this10","_this11","classData","studentData","components_StudentDisplay_StudentDisplay","date","commentData","Comment_Comment","instructorButtons","Modal_default","show","onHide","Header","closeButton","Footer","studentButtons","instructorEmail","notInstructorAlert","Form_default","rows","_ref","component","rest","objectWithoutProperties","Route","render","Dashboard","onLogoutClick","split","InstructorProfile","_this$state$instructo","newSumOfRatingAsInstructor","newNumOfRatingAsInstructor","updatedInstructor","comment","instructorObj","concat","rateInstructor","style","width","About","isEmpty","require","initialState","loading","combineReducers","arguments","action","objectSpread","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","jwtToken","currentTime","Date","now","exp","location","Boolean","hostname","es","BrowserRouter","components_NavBar_NavBar","Switch","private_route_PrivateRoute","exact","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6e6b6c74.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\n\nclass ClassDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <Card.Body>\n                    <Card.Img className=\"instructor-img\" src={this.props.instructorProfilePic}></Card.Img>\n                    <Card.Title>{this.props.title}</Card.Title>\n                    <Card.Text>{this.props.description}</Card.Text>\n                    <Card.Text className=\"italics-text\">Taught by: {this.props.instructor} | Price: ${this.props.price} | Rating: {this.props.rating} | Category: {this.props.category}</Card.Text>\n                    <LinkContainer to={\"/classes/\" + this.props.slug}><Button variant=\"info\">See Class Details</Button></LinkContainer>\n                </Card.Body>\n            </Card>\n        );\n    }\n};\n\nexport default ClassDisplay; \n\n\n\n","import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nclass InstructorDisplay extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Card.Img\n\t\t\t\t\t\tclassName=\"instructor-img\"\n\t\t\t\t\t\tsrc={this.props.userProfilePic}\n\t\t\t\t\t/>\n\t\t\t\t\t<Card.Title>{this.props.name}</Card.Title>\n\t\t\t\t\t<Card.Text>{this.props.introduction}</Card.Text>\n\t\t\t\t\t<Card.Text className=\"italics-text\">\n\t\t\t\t\t\tRating: {this.props.rating}\n\t\t\t\t\t</Card.Text>\n\t\t\t\t\t<LinkContainer to={\"/instructor/\" + this.props.slug}>\n\t\t\t\t\t\t<Button variant=\"info\">See Instructor Details</Button>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default InstructorDisplay;\n\n\n\n","import React, { Component }from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\nimport Typed from 'react-typed';\n\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport { InstructorDisplay } from '../../components/InstructorDisplay';\n\nimport './Home.css'\n\nclass Home extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tfeaturedClasses: [],\n\t\t\tfeaturedInstructors: [],\n\t\t\tcurrentDisplay: 'class'\n\t\t}\n\n\t\tthis.displayClasses = this.displayClasses.bind(this);\n\t\tthis.displayInstructors = this.displayInstructors.bind(this);\n\t}\n\n\tdisplayClasses() {\n\t\tthis.setState({currentDisplay: 'class'});\n\n\t\t/*\n\t\tconst url = '/api/classes/featured';\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => this.setState({featuredClasses: data, currentDisplay: 'class'}));\n\t\t*/\n\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tthis.setState({featuredClasses: data, currentDisplay: 'class'});\n\t\t*/\n\t}\n\n\tdisplayInstructors() {\n\t\tthis.setState({currentDisplay: 'instructor'});\n\t\t/*\n\t\tconst url = '/api/instructors/featured';\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => this.setState({featuredInstructors: data, currentDisplay: 'instructor'}));\n\t\t\t*/\n\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"introduction\":\"Piano\",\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tthis.setState({featuredInstructors: data, currentDisplay: 'instructor'})\n\t\t*/\n\t}\n\n\tcomponentDidMount() {\n\t\tconst url = '/api/classes/featured';\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => this.setState({featuredClasses: data, currentDisplay: 'class'}));\n\n\t\tconst url2 = '/api/instructors/featured';\n\t\tfetch(url2)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => this.setState({featuredInstructors: data}));\n\t}\n\n\trender() {\n\t\tconst typed = \n\t\t\t<Typed \n\t\t\t\tstrings={['JavaScript', 'Guitar', 'Piano', 'Painting', 'Bitcoin', 'HTML', 'French']} \n\t\t\t\ttypeSpeed={65} \n\t\t\t\tbackSpeed={50} \n\t\t\t\tshuffle={true}\n\t\t\t\tloop\n\t\t\t/>;\n\n\t\tconst classListData = this.state.featuredClasses.map(function(data, index) {\n\t\t\treturn <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructorName} rating={data.rating} category={data.category} slug={data._id} instructorProfilePic={data.instructorProfilePic}/>\n\t\t});\n\n\t\tconst moreClassBtn = \n\t\t\t<div className=\"all-classes-btn-container\">\n\t\t\t\t<LinkContainer to=\"/classes\" className=\"all-classes-btn\"><Button variant=\"info\">See More Classes</Button></LinkContainer>\n\t\t\t</div>;\n\t\n\t\tclassListData.push(moreClassBtn);\n\n\t\tconst instructorListData = this.state.featuredInstructors.map((data, index) => {\n\t\t\treturn <InstructorDisplay key={index} name={data.name} introduction={data.introduction} rating={data.rating} slug={data._id} userProfilePic={data.profilePicURL}/>\n\t\t});\n\n\t\tconst moreInstructorBtn = \n\t\t\t<div className=\"all-classes-btn-container\">\n\t\t\t\t<LinkContainer to=\"/instructors\" className=\"all-classes-btn\"><Button variant=\"info\">See More Instructors</Button></LinkContainer>\n\t\t\t</div>;\n\t\tinstructorListData.push(moreInstructorBtn);\n\n\t\treturn (\n\t\t\t<div className=\"homepage-container\">\n\t\t\t\t<div className=\"homepage-header\">\n\t\t\t\t\t<h1>Teach me {typed} </h1>\n\t\t\t\t\t<div className=\"intro-text\">\n\t\t\t\t\t\t<p>From programming to piano, TeachMe offers a variety of classes to learn from. Want to teach your skill to others? Publish your own class - only the sky's the limit. </p>\n\t\t\t\t\t\t<p className=\"bold-text\">To get started, <LinkContainer className=\"registration-link\" to='/register'><span>register an account</span></LinkContainer> and start taking and/or teaching classes! </p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"featured-container\">\n\t\t\t\t\t<Nav variant=\"pills\" defaultActiveKey=\"featuredClasses\" className=\"featured-nav\">\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"featuredClasses\" onSelect={this.displayClasses}>Featured Classes</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t<Nav.Link eventKey=\"featuredInstructors\" onSelect={this.displayInstructors}>Featured Instructors</Nav.Link>\n\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t</Nav>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"class-listing-display featured-classes-display\">\n\t\t\t\t\t{this.state.currentDisplay === 'class' ? classListData : instructorListData}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t);\n\t}\n}\n\nexport default Home;","import React from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron'\n\nimport './NoMatch.css'\n\nconst NoMatch = props => {\n\treturn (\n\t\t<Jumbotron>\n\t\t\t<h1>Oops</h1>\n\t\t\t<p>That's a 404 error - It seems that we cannot find the page you requested.</p>\n\t\t</Jumbotron>\n\t);\n};\n\nexport default NoMatch;","import React, { Component } from 'react';\n//import { Link } from 'react-router-dom';\nimport { Form } from 'react-bootstrap'\n\n\nclass ClassFilter extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n            maxPrice: 'Max Price...',\n            minRating: 'Min Rating...',\n            classCategory: 'Class Category...',\n            isArchived: 'See Archived/Completed Classes...'\n\t\t};\n    }\n    \n    filterResults(e) {\n        const filterType = e.target.id;\n        if (filterType === 'maxPrice') {\n            this.setState({maxPrice: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else if (filterType === 'minRating') {\n            this.setState({minRating: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else if (filterType === 'classCategory'){\n            this.setState({classCategory: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else {\n            this.setState({isArchived: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n    }\n\n    render() {\n        return(\n            <Form className=\"class-filter\" >\n                <Form.Group controlId=\"maxPrice\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Max Price...</option>\n                        <option value={50}>$50</option>\n                        <option value={100}>$100</option>\n                        <option value={200}>$200</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"minRating\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Min Rating...</option>\n                        <option>3</option>\n                        <option>3.5</option>\n                        <option>4</option>\n                        <option>4.5</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"classCategory\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Class Category...</option>\n                        <option value=\"Art/Creative\">Art/Creative</option>\n                        <option value=\"Music\">Music</option>\n                        <option value=\"Technology\">Technology</option>\n                        <option value=\"Language\">Language</option>\n                        <option value=\"Sports\">Sports</option>\n                        <option value=\"Lifestyle\">Lifestyle</option>\n                        <option value=\"Business\">Business</option>\n                        <option value=\"Miscellaneous\">Miscellaneous</option>\n                    </Form.Control>\n                </Form.Group>\n                { this.props.displayArchiveOptions \n                    ? \n                    <Form.Group controlId=\"isArchived\" onChange={this.filterResults.bind(this)}>\n                        <Form.Control as=\"select\" >\n                            <option value={undefined}>See Archived/Completed Classes...</option>\n                            <option value=\"show\">Show All Classes</option>\n                            <option value=\"hide\">Hide Archived/Completed Classes</option>\n                        </Form.Control>\n                    </Form.Group>\n                    : \n                    null}\n            </Form>\n        );\n    }\n};\n\nexport default ClassFilter; ","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport { ClassFilter } from '../../components/ClassFilter';\n\nimport './Classes.css'\n\nclass Classes extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tclassListing: [],\n\t\t\tallClasses: [],\n\t\t\tactivePage: 1,\n\t\t\tshowWarning: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('/api/classes')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({classListing: data, allClasses: data}));\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tthis.setState({classListing: data, allClasses: data});\n\t\t*/\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\t//console.log(query);\n\t\tconst allClasses = this.state.allClasses;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allClasses.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allClasses[i];\n\t\t\tif (query['maxPrice'] !== 'Max Price...') {\n\t\t\t\tif (c.price > parseFloat(query['maxPrice'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating === 'Not Available' || c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['classCategory'] !== 'Class Category...') {\n\t\t\t\tif (c.category !== query['classCategory']) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\t//console.log(filteredClasses.length);\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({showWarning: true, classListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({showWarning: false, classListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\trender() {\n\t\tconst classListData = this.state.classListing.map(function(data, index) {\n\t\t\treturn <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructorName} rating={data.rating} category={data.category} slug={data._id} instructorProfilePic={data.instructorProfilePic} />\n\t\t});\n\n\t\tconst CLASSES_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n\t\tconst endIdx = startIdx + CLASSES_PER_PAGE;\n\t\tconst toDisplay = classListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='class-listing-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Available Classes</h1>\n\t\t\t\t\t<p>Below is the list of classes that are available on TeachMe.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div className='filter-container'>\n\t\t\t\t\t<ClassFilter filterResults={this.filterResults.bind(this)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='class-listing-display'>\n\t\t\t\t\t{toDisplay}\n\t\t\t\t\t{ this.state.showWarning ? <Alert variant='danger'>It seems that we don't have any classes that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\titemsCountPerPage={CLASSES_PER_PAGE}\n\t\t\t\t\t\t\ttotalItemsCount={classListData.length}\n\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n \t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Classes;\n","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n//import { registerUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport validator from 'validator';\n\n\nimport \"./CreateClass.css\";\n\nclass CreateClass extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleCancel = this.handleCancel.bind(this);\n\t\tthis.handleUrl = this.handleUrl.bind(this);\n\n\t\tthis.state = {\n\t\t\tsuccessRedirect: {},\n\t\t\turlError: ''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// If not logged in and user navigates to Create Class page, should redirect them to login\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\t//console.log(this.props.auth);\n\t\t} else {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandleUrl(e) {\n\t\tconst userUrl = e.target.value;\n\n\t\tif (!validator.isURL(userUrl)) {\n\t\t\tthis.setState({urlError: 'That is not a valid url. Please try again'});\n\t\t} else {\n\t\t\tthis.setState({urlError: ''});\n\t\t}\n\t}\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst newClassData = new FormData(e.target);\n\t\tconst newClassObj = {};\n\n\t\tfor (let userInput of newClassData.entries()) {\n\t\t\tnewClassObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\tconst instructorId = this.props.auth.user.id;\n\t\tnewClassObj.instructorId = instructorId;\n\t\t//console.log(newClassObj);\n\n\t\tfetch(\"/api/create-class/\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(newClassObj),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ successRedirect: data },  () => {\n\t\t\t\tif (this.state.successRedirect.result === 'success') {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst url = '/classes/' + this.state.successRedirect.newClassID;\n\t\t\t\t\t\tthis.props.history.push(url);\n\t\t\t\t\t}, 3500);\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\thandleCancel(e) {\n\t\tthis.setState({ successRedirect: { result: \"cancelled\" } });\n\t}\n\n\trender() {\n\t\tif (\n\t\t\tthis.state.successRedirect && this.state.successRedirect.result === \"cancelled\"\n\t\t) {\n\t\t\treturn <Redirect to=\"/class-history\" />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div id=\"submit-form\">\n\t\t\t\t\t<Jumbotron>\n\t\t\t\t\t\t<h1>Publish a New Class</h1>\n\t\t\t\t\t\t<p>Want to teach a new class? Fill in the details below and publish it!</p>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<form className='create-class-form' onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"name\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>One-Sentence Description</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"description\" required />\n\t\t\t\t\t\t<label>Longer Description of the Class</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"about\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"number\" name=\"price\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Proposed Schedule</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" name=\"proposedSchedule\" required />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Category</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<select className=\"category-select\" name=\"category\">\n\t\t\t\t\t\t\t<option value=\"Art/Creative\">Art/Creative</option>\n\t\t\t\t\t\t\t<option value=\"Music\">Music</option>\n\t\t\t\t\t\t\t<option value=\"Technology\">Technology</option>\n\t\t\t\t\t\t\t<option value=\"Language\">Language</option>\n\t\t\t\t\t\t\t<option value=\"Sports\">Sports</option>\n\t\t\t\t\t\t\t<option value=\"Lifestyle\">Lifestyle</option>\n\t\t\t\t\t\t\t<option value=\"Business\">Business</option>\n\t\t\t\t\t\t\t<option value=\"Miscellaneous\">Miscellaneous</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<label>Payment Link</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input type=\"text\" onBlur={this.handleUrl} name=\"paymentLink\" />\n\t\t\t\t\t\t<label id='urlError'>{this.state.urlError}</label><br />\n\t\t\t\t\t\t{this.state.successRedirect.result === \"success\" ? <Alert variant=\"success\">You have successfully published a new class! We are now taking you to the class detail page of your new class.</Alert> : null}\n\t\t\t\t\t\t<div className='create-class-buttons'>\n\t\t\t\t\t\t\t<Button type='submit' variant='primary'>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button type=\"button\" onClick={this.handleCancel}>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nCreateClass.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(CreateClass);","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\nimport validator from 'validator';\n\nimport './EditClass.css'\n\nclass EditClass extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tclass: {},\n\t\t\tsuccessRedirect: {},\n\t\t\turlError: '',\n\t\t\toriginator: new Originator(),\n\t\t\tcareTaker: new CareTaker()\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleCancel = this.handleCancel.bind(this);\n\n\t\tthis.handleSave = this.handleSave.bind(this);\n\t\tthis.handleRestore = this.handleRestore.bind(this);\n\n\t\tthis.handleNameChange = this.handleNameChange.bind(this);\n\t\tthis.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n\t\tthis.handleAboutChange = this.handleAboutChange.bind(this);\n\t\tthis.handlePriceChange = this.handlePriceChange.bind(this);\n\t\tthis.handleProposedScheduleChange = this.handleProposedScheduleChange.bind(this);\n\t\tthis.handleCategoryChange = this.handleCategoryChange.bind(this);\n\t\tthis.handleUrl = this.handleUrl.bind(this);\n\n\t}\n\n\tcomponentDidMount() {\n    // If not logged in and user navigates to Edit Class page, should redirect them to login\n\t    if (this.props.auth.isAuthenticated) {\n\t\t\t// console.log(this.props.auth);\n\t\t\tconst { classId } = this.props.match.params;\n\t\t\tconst url = '/api/edit-class/' + classId;\n\t\t\t//console.log(url);\n\t\t\tfetch(url)\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tthis.setState({class: data[0]});\n\n\t\t\t\t\tlet originator = Object.assign({}, this.state.originator);\n\t\t\t\t\toriginator.name = data[0].name; \n\t\t\t\t\toriginator.description = data[0].description;\n\t\t\t\t\toriginator.price = data[0].price;\n\t\t\t\t\toriginator.proposedSchedule = data[0].proposedSchedule;\n\t\t\t\t\toriginator.category = data[0].category;\n\t\t\t\t\toriginator.payment = data[0].payment;\n\n\t\t\t\t\tthis.setState({originator});\n\t\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandleSubmit(e) {\n\n\t\te.preventDefault();\n\t\tconst newClassData = new FormData(e.target);\n\t\tconst newClassObj = {};\n\n\t\tfor (let userInput of newClassData.entries()) {\n\t\t\tnewClassObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\t//console.log(newClassObj);\n\n\t\tconst { classId } = this.props.match.params;\n\t\tconst url = '/api/edit-class/' + classId;\n\t\tfetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(newClassObj),\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}).then(response => response.json())\n\t\t\t.then(data => this.setState({ successRedirect: data },  () => {\n\t\t\t\tif (this.state.successRedirect.result === 'success') {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst url = '/classes/' + classId;\n\t\t\t\t\t\tthis.props.history.push(url);\n\t\t\t\t\t}, 3500);\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\thandleCancel(e) {\n\t\tthis.setState({successRedirect: {\"result\": \"cancelled\"}});\n\t}\n\n\thandleNameChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.name = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleAboutChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.name = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleDescriptionChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.description = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandlePriceChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.price = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleProposedScheduleChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.proposedSchedule = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleCategoryChange(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.category = e.target.value; \n\t\tthis.setState({originator});\n\t}\n\n\thandleSave(e) {\n\t\tthis.state.careTaker.SetMemento(this.state.originator.saveState());\n\t\t//console.log(this.state.originator);\n\t\t//console.log(\"save\");\n\t}\n\n\thandleRestore(e) {\n\t\tthis.state.originator.restoreState(this.state.careTaker.GetMemento());\n\t\tvar output = \"The values you previously saved are: \\n\" + \n\t\t\"Name: \" + this.state.originator.name + \"\\n\" +\n\t\t\"Description: \" + this.state.originator.description + \"\\n\" +\n\t\t\"Price: \" + this.state.originator.price + \"\\n\" +\n\t\t\"Proposed Schedule: \" + this.state.originator.proposedSchedule + \"\\n\" +\n\t\t\"Category: \" + this.state.originator.category + \"\\n\" +\n\t\t\"Payment Link: \" + this.state.originator.payment;\n\t\talert(output);\n\t\t//console.log(this.state.originator);\n\t\t//console.log(\"restore\");\n\t}\n\n\thandleUrl(e) {\n\t\tlet originator = Object.assign({}, this.state.originator);\n\t\toriginator.payment = e.target.value; \n\t\tthis.setState({originator});\n\n\t\tconst userUrl = e.target.value;\n\n\t\tif (!validator.isURL(userUrl)) {\n\t\t\tthis.setState({urlError: 'That is not a valid url. Please try again'});\n\t\t} else {\n\t\t\tthis.setState({urlError: ''});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.successRedirect && this.state.successRedirect.result === 'cancelled') {\n\t\t\treturn (\n\t\t\t\t<Redirect to='/home' />\n\t\t\t)\n\t\t}\n\t\telse if (this.state.class.instructor !== this.props.auth.user.id) {\n\t\t\treturn (\n\t\t\t\t<div id='alert'>\n\t\t\t\t\t<Alert variant='danger'>\"You are not the instructor of this class so you do not have the permission to edit it.\"</Alert>\n\t\t\t\t</div>\n\t\t\t)\n\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<div id='edit-form'>\n\t\t\t\t\t<Jumbotron>\n\t\t\t\t\t\t<h1>Edit Class: {this.state.class.name}</h1>\n\t\t\t\t\t\t<p>You can edit the details of your class below.</p>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t\t<form className='edit-class-form' onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<label>Name</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"name\" defaultValue={this.state.class.name} onChange={this.handleNameChange} required /><br />\n\t\t\t\t\t\t<label>One-Sentence Description</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"description\" defaultValue={this.state.class.description} onChange={this.handleDescriptionChange} required /><br />\n\t\t\t\t\t\t<label>Longer Description of the Class</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"about\" defaultValue={this.state.class.about} onChange={this.handleAboutChange} required /><br />\n\t\t\t\t\t\t<label>Price</label><br />\n\t\t\t\t\t\t<input type=\"number\" name=\"price\" defaultValue={this.state.class.price} onChange={this.handlePriceChange} required /><br />\n\t\t\t\t\t\t<label>Proposed Schedule</label><br />\n\t\t\t\t\t\t<input type=\"text\" name=\"proposedSchedule\" defaultValue={this.state.class.proposedSchedule} onChange={this.handleProposedScheduleChange} required /><br />\n\t\t\t\t\t\t<label>Category</label><br />\n\t\t\t\t\t\t<select className=\"category-select\" defaultValue={this.state.class.category} onChange={this.handleCategoryChange} name=\"category\" required>\n\t\t\t\t\t\t\t<option value=\"Art/Creative\">Art/Creative</option>\n\t\t\t\t\t\t\t<option value=\"Music\">Music</option>\n\t\t\t\t\t\t\t<option value=\"Technology\">Technology</option>\n\t\t\t\t\t\t\t<option value=\"Language\">Language</option>\n\t\t\t\t\t\t\t<option value=\"Sports\">Sports</option>\n\t\t\t\t\t\t\t<option value=\"Lifestyle\">Lifestyle</option>\n\t\t\t\t\t\t\t<option value=\"Business\">Business</option>\n\t\t\t\t\t\t\t<option value=\"Miscellaneous\">Miscellaneous</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<label>Payment Link</label><br />\n\t\t\t\t\t\t<input type=\"text\" onBlur={this.handleUrl} defaultValue={this.state.class.paymentLink} name=\"paymentLink\" />\n\t\t\t\t\t\t<label id='urlError'>{this.state.urlError}</label><br />\n\t\t\t\t\t\t{this.state.successRedirect.result === \"success\" ? <Alert variant=\"success\">Your changes have been saved. We are now taking you to the class detail page of this class.</Alert> : null}\n\t\t\t\t\t\t<div className='edit-class-buttons'>\n\t\t\t\t\t\t\t<Button type=\"submit\" variant='primary'>Save Changes</Button>\n\t\t\t\t\t\t\t<Button variant='danger' onClick={this.handleCancel}>Abort Changes</Button>\n\t\t\t\t\t\t\t<Button variant='info' onClick={this.handleSave}>Save Draft</Button>\n\t\t\t\t\t\t\t<Button variant='danger' onClick={this.handleRestore}>Restore Saved Draft</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\n}\n\n\nvar Originator = function(){\n\tthis.name = \"\" ;\n\tthis.description = \"\" ;\n\tthis.price = \"\" ;\n\tthis.proposedSchedule = \"\" ;\n\tthis.category = \"\" ;\n\tthis.payment = \"\" ;\n\n\tthis.saveState = function(){\n\t\treturn new Memento(this)\n\t}\n \n\tthis.restoreState = function(_obj){\n\t\tthis.name = _obj.name ;\n\t\tthis.description = _obj.description ;\n\t\tthis.price = _obj.price ;\n\t\tthis.proposedSchedule = _obj.proposedSchedule ;\n\t\tthis.category = _obj.category ;\n\t\tthis.payment = _obj.payment ;\n\t}\n}\n\nvar Memento = function(_obj){\n\tthis.name = _obj.name;\n\tthis.description = _obj.description;\n\tthis.price = _obj.price;\n\tthis.proposedSchedule = _obj.proposedSchedule;\n\tthis.category = _obj.category;\n\tthis.payment = _obj.payment;\n}\n\nvar CareTaker = function(){\n\tvar conState = null;\n\tthis.SetMemento = function(_conState){\n\t\tconState =  _conState;\n\t}\n\tthis.GetMemento = function(){\n\t\treturn conState;\n\t}\n}\n\n\nEditClass.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(EditClass);\n","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Rater from \"react-rater\";\n\nimport \"./MyAccount.css\";\n\nclass MyAccount extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserId: undefined,\n\t\t\tIsReadOnly: true,\n\t\t\timageIsReadOnly: true,\n\t\t\tpleaseWait: false,\n\t\t\tuser: {},\n\t\t\tprofileUploadSuccess: {},\n\t\t\tsuccessCheck: {},\n\t\t\tinstructorRating: 0.0,\n\t\t\tlearnerRating: 0.0\n\t\t};\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleNameChange = this.handleNameChange.bind(this);\n\t\tthis.handleEmailChange = this.handleEmailChange.bind(this);\n\t\tthis.handleIntroductionChange = this.handleIntroductionChange.bind(this);\n\t\tthis.handleEditClick = this.handleEditClick.bind(this);\n\t\tthis.handleClassHistory = this.handleClassHistory.bind(this);\n\t\tthis.handleLogOut = this.handleLogOut.bind(this);\n\t\tthis.fileSelectedHandler = this.fileSelectedHandler.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tthis.setState({ userId: this.props.auth.user.id }, function() {\n\t\t\t\tconst url = \"/api/my-account/\" + this.state.userId;\n\t\t\t\tfetch(url)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(data => this.setState({ user: data[0] }));\n\t\t\t});\n\t\t} else {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\n\t\t//console.log(this.state.userName);\n\t}\n\n\tcalculateRating() {\n\t\tif (this.state.user.numOfRatingAsInstructor > 0) {\n\t\t\tthis.setState({\n\t\t\t\tinstructorRating:\n\t\t\t\t\t(this.state.user.sumOfRatingAsInstructor * 1.0) /\n\t\t\t\t\tthis.state.user.numOfRatingAsInstructor\n\t\t\t});\n\t\t}\n\t\tif (this.state.user.numOfRatingAsLearner > 0) {\n\t\t\tthis.setState({\n\t\t\t\tlearnerRating:\n\t\t\t\t\t(this.state.user.sumOfRatingAsInstructor * 1.0) /\n\t\t\t\t\tthis.state.user.numOfRatingAsInstructor\n\t\t\t});\n\t\t}\n\t}\n\n\thandleNameChange(event) {\n\t\tlet newUser = this.state.user;\n\t\tnewUser.name = event.target.value;\n\t\tthis.setState({ user: newUser });\n\t}\n\n\thandleEmailChange(event) {\n\t\tlet newUser = this.state.user;\n\t\tnewUser.email = event.target.value;\n\t\tthis.setState({ user: newUser });\n\t}\n\n\thandleIntroductionChange(event) {\n\t\tlet newUser = this.state.user;\n\t\tnewUser.introduction = event.target.value;\n\t\tthis.setState({ user: newUser });\n\t}\n\n\thandleSubmit(event) {\n\t\t/*\n\t\tthis.setState({ successCheck: { result: \"success\" } });\n\t\talert(\"A new profile is submitted! \");\n\t\t*/\n\t\tevent.preventDefault();\n\n\t\tconst newUserData = new FormData(event.target);\n\t\tconst newUserObj = {};\n\n\t\tfor (let userInput of newUserData.entries()) {\n\t\t\tnewUserObj[userInput[0]] = userInput[1];\n\t\t}\n\n\t\tconst url = \"/api/my-account/\" + this.state.userId;\n\t\tfetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(newUserObj),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAccept: \"application/json\"\n\t\t\t}\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ successCheck: data }));\n\n\t\tthis.setState({ IsReadOnly: true });\n\t}\n\n\thandleEditClick(event) {\n\t\tthis.setState({ IsReadOnly: false });\n\t}\n\n\thandleClassHistory(event) {\n\t\tthis.props.history.push(\"/class-history\");\n\t}\n\n\thandleLogOut(event) {\n\t\tthis.props.history.push(\"/dashboard\");\n\t}\n\n\tfileSelectedHandler(e) {\n\t\tthis.setState({pleaseWait: true});\n\n\t\tconst formData = new FormData();\n\t\tformData.append('profile-pic', e.target.files[0]);\n\t\t//console.log(formData);\n\t\t//console.log(e.target.files);\n\n\t\tconst url = '/api/images/' + this.state.userId;\n\t\tfetch(url, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData\n\t\t}).then(res => res.json())\n\t\t.then(data => this.setState({profileUploadSuccess: data, pleaseWait: false}));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"myaccount-page\">\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Welcome {this.state.user.name}</h1>\n\t\t\t\t\t<p>You can view and change your account information here.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div class='my-account-container'>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm={5}>\n\t\t\t\t\t\t\t<div className=\"detail-image-container\">\n\t\t\t\t\t\t\t\t<h3>My Profile Picture</h3>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\talt=\"my profile\"\n\t\t\t\t\t\t\t\t\tsrc={this.state.user.profilePicURL}\n\t\t\t\t\t\t\t\t\tclassName=\"instructor-image\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<h5>Change My Profile Picture:</h5>\n\t\t\t\t\t\t\t\t<p className='italics-text'>Please upload only jpg, jpeg and png files. A square image is recommended as your image will be automatically resized to 110px * 110px.</p>\n\t\t\t\t\t\t\t\t{ this.state.pleaseWait ? <Alert variant='info' className='success-alert'>Please wait while we upload your image...</Alert> : null }\n\t\t\t\t\t\t\t\t{ this.state.profileUploadSuccess.result === 'success' ? <Alert variant='success' className='success-alert'>You have successfully uploaded a new profile image! Refresh the page to see the changes.</Alert> : null }\n\t\t\t\t\t\t\t\t<input type=\"file\" name=\"profile-pic\" onChange={this.fileSelectedHandler} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={7}>\n\t\t\t\t\t\t\t<div className=\"detail-text-container\">\n\t\t\t\t\t\t\t\t<div className=\"my-personal-info\">\n\t\t\t\t\t\t\t\t\t<h3>My Personal Info</h3>\n\t\t\t\t\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t\t\t\t<label>Name</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.user.name}\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.IsReadOnly}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleNameChange}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.user.email}\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.IsReadOnly}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEmailChange}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<label>Self Introduction</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"introduction\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.user.introduction}\n\t\t\t\t\t\t\t\t\t\t\treadOnly={this.state.IsReadOnly}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleIntroductionChange}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t<div className='edit-info-buttons'>\n\t\t\t\t\t\t\t\t\t\t\t{ this.state.successCheck.result === 'success' ? <Alert variant='success' className='success-alert'>You have successfully edited your personal info!</Alert> : null }\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleEditClick} variant='info'>\n\t\t\t\t\t\t\t\t\t\t\t\tEdit My Personal Info\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button type='submit' variant='primary'>\n\t\t\t\t\t\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/*<input type=\"submit\" value=\"Submit\" />*/}\n\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"my-ratings\">\n\t\t\t\t\t\t\t\t\t<h3>My Ratings</h3>\n\t\t\t\t\t\t\t\t\t<h5>Rating as Insturctor</h5>\n\t\t\t\t\t\t\t\t\t{this.state.user.instructorRating ?\n\t\t\t\t\t\t\t\t\t\t<div className='current-rating-container'>\n\t\t\t\t\t\t\t\t\t\t\t<Rater total = {5} rating = {this.state.user.instructorRating} interactive = {false}/>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"rating-number\">{this.state.user.instructorRating}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tYou don't have enough rating as an instructor yet.\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<h5>Rating as Learner</h5>\n\t\t\t\t\t\t\t\t\t{this.state.user.learnerRating ?\n\t\t\t\t\t\t\t\t\t\t<div className='current-rating-container'>\n\t\t\t\t\t\t\t\t\t\t\t<Rater total = {5} rating = {this.state.user.learnerRating} interactive = {false}/>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"rating-number\">{this.state.user.learnerRating}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tYou don't have enough rating as a learner yet.\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\t\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div className='other-page-buttons'>\n\t\t\t\t\t\t\t<Button onClick={this.handleClassHistory} variant='info'>\n\t\t\t\t\t\t\t\tView My Class History\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={this.handleLogOut} variant='warning'>\n\t\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nMyAccount.propTypes = {\n\tauth: PropTypes.object.isRequired,\n\thistory: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(MyAccount);","import React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Nav from 'react-bootstrap/Nav';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport { ClassFilter } from '../../components/ClassFilter';\nimport ReactDOM from 'react-dom';\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport './ClassHistory.css'\n\nclass ClassHistory extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserID: undefined,\n\t\t\tclassListing: [],\n\t\t\tallClasses: [],\n\t\t\tactivePage: 1,\n\t\t\tfilterWarning: false,\n\t\t\tnoTeachClassWarning: false,\n\t\t\tnoTakeClassWarning: false,\n\t\t\tarchive: false,\n\t\t\tcurrentSection: 0\n\t\t};\n\t}\n\n\t/*\n\tdisplayTaught() {\n\t\tthis.setState({activePage:1});\n\t\tconst url = '/api/class-history-taught/' + this.state.userID;\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTeachClassWarning: true, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTeachClassWarning: false, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});}\n\t*/\n\t\n\tdisplayTeach() {\n\t\tthis.setState({activePage: 1, filterWarning: false});\n\t\tReactDOM.findDOMNode(this.filterForm).reset();\n\n\t\tconst url = '/api/class-history-teach/' + this.state.userID;\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTeachClassWarning: true, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTeachClassWarning: false, noTakeClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tif (data.length === 0) {\n\t\t\tthis.setState({noTeachClassWarning: true, classListing: data, allClasses: data});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({classListing: data, allClasses: data});\n\t\t}\n\t\t*/\n\t}\n\n\t/*\n\tdisplayTook() {\n\t\tthis.setState({activePage:1});\n\t\tconst url = '/api/class-history-took/' + this.state.userID\n\t\tconsole.log(url);\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTakeClassWarning: true, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTakeClassWarning: false, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});}\n\t*/\n\n\tdisplayTake() {\n\t\tthis.setState({activePage: 1, filterWarning: false});\n\t\tReactDOM.findDOMNode(this.filterForm).reset();\n\n\t\tconst url = '/api/class-history-take/' + this.state.userID\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({noTakeClassWarning: true, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({noTakeClassWarning: false, noTeachClassWarning: false, classListing:data, allClasses: data});\n\t\t\t\t}\n\t\t\t});\n\t\t/*\n\t\tconst data = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Something else\",\"description\":\"not Piano\",\"price\":175,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"},{\"_id\":\"5c855c0f7471ed05294dff40\",\"name\":\"1\",\"description\":\"1\",\"price\":1,\"proposedSchedule\":\"1\",\"rating\":6,\"instructor\":\"5c854805e0c8200000afd73a\",\"__v\":0},{\"_id\":\"5c858b101c9d4400002224ce\",\"name\":\"authentic chinese cooking\",\"description\":\"the best of chinese cooking. all in one class!\",\"price\":888,\"proposedSchedule\":\"Monday 2-4pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":2.5,\"category\":\"Music\"},{\"_id\":\"5c858b9b1c9d4400002224cf\",\"name\":\"intro to javascript\",\"description\":\"learning programming with the best programming language ever! (haha not really)\",\"price\":123,\"proposedSchedule\":\"Saturdays 3-5pm\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":9.9,\"category\":\"Technology\"}];\n\t\tif (data.length === 0) {\n\t\t\tthis.setState({noTakeClassWarning: true, classListing: data, allClasses: data});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({classListing: data, allClasses: data});\n\t\t}\n\t\t*/\n\t}\n\n\tcomponentDidMount() {\n\t\t// If logged in and user navigates to Login page, should redirect them to dashboard\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tthis.setState({userID: this.props.auth.user.id}, function() {\n\t\t\t\tthis.displayTeach();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\tconst allClasses = this.state.allClasses;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allClasses.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allClasses[i];\n\t\t\tif (query['maxPrice'] !== 'Max Price...') {\n\t\t\t\tif (c.price > parseFloat(query['maxPrice'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating === 'Not Available' || c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['classCategory'] !== 'Class Category...') {\n\t\t\t\tif (c.category !== query['classCategory']) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['isArchived'] !== 'See Archived/Completed Classes...') {\n\t\t\t\tif (query['isArchived'] === 'hide' && (c.archive === true || c.complete === true)) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({filterWarning: true, classListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({filterWarning: false, classListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\t/*\n\thandleArchive() {\n\n\t\t//console.log(this.state.archive);\n\t\tif(this.state.currentSection === 0) {\n\t\t\tthis.displayTaught();\n\t\t} else {\n\t\t\tthis.displayTook();\n\t\t}\n\n\t}\n\t*/\n\n  \trender() {\n\t\tconst classListData = this.state.classListing.map(function(data, index) {\n\t\t\treturn <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructorName} rating={data.rating} category={data.category} slug={data._id} instructorProfilePic={data.instructorProfilePic}/>\n\t\t});\n\n\t\tconst CLASSES_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n\t\tconst endIdx = startIdx + CLASSES_PER_PAGE;\n\t\tconst toDisplay = classListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='class-history-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>My Class History</h1>\n\t\t\t\t\t<p>Below are the classes you have either taught or taken at TeachMe.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<Nav fill variant=\"tabs\" defaultActiveKey=\"teach\" className=\"class-history-nav\">\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"teach\" onSelect={this.displayTeach.bind(this)}>Classes I Teach</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link eventKey=\"take\" onSelect={this.displayTake.bind(this)}>Classes I Take</Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t</Nav>\n\t\t\t\t<div className='filter-container filter-container-ch'>\n\t\t\t\t\t\t<ClassFilter ref={ form => this.filterForm = form } filterResults={this.filterResults.bind(this)} displayArchiveOptions={true}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='class-listing-display'>\n\t\t\t\t\t\t{toDisplay}\n\t\t\t\t\t\t{ this.state.noTakeClassWarning ? <Alert variant='danger'>It seems that you have no registered class at this time. Go to the class listing page and register for a new class!</Alert> : null }\n\t\t\t\t\t\t{ this.state.noTeachClassWarning ? <Alert variant='danger'>It seems that you are not teaching any class at this time.</Alert> : null }\n\t\t\t\t\t\t{ this.state.filterWarning ? <Alert variant='danger'>It seems that we don't have any classes that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\t\titemsCountPerPage={CLASSES_PER_PAGE}\n\t\t\t\t\t\t\t\ttotalItemsCount={classListData.length}\n\t\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nClassHistory.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(ClassHistory);\n","import React, { Component } from 'react';\n//import { Link } from 'react-router-dom';\nimport { Form } from 'react-bootstrap'\n\nclass InstructorFilter extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            minRating: 'Min Rating...',\n            instructorCategory: 'Instructor Category...'\n        };\n    }\n    \n    filterResults(e) {\n        const filterType = e.target.id;\n        if (filterType === 'minRating') {\n            this.setState({minRating: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n        else {\n            this.setState({instructorCategory: e.target.value}, () => {\n                this.props.filterResults(this.state);\n            });\n        }\n    }\n\n    render() {\n        return(\n            <Form className=\"class-filter\" >\n                <Form.Group controlId=\"minRating\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Min Rating...</option>\n                        <option>3</option>\n                        <option>3.5</option>\n                        <option>4</option>\n                        <option>4.5</option>\n                    </Form.Control>\n                </Form.Group>\n                <Form.Group controlId=\"instructorCategory\" onChange={this.filterResults.bind(this)}>\n                    <Form.Control as=\"select\" >\n                        <option value={undefined}>Instructor Category...</option>\n                        <option value=\"Art/Creative\">Art/Creative</option>\n                        <option value=\"Music\">Music</option>\n                        <option value=\"Technology\">Technology</option>\n                        <option value=\"Language\">Language</option>\n                        <option value=\"Sports\">Sports</option>\n                        <option value=\"Lifestyle\">Lifestyle</option>\n                        <option value=\"Business\">Business</option>\n                        <option value=\"Miscellaneous\">Miscellaneous</option>\n                    </Form.Control>\n                </Form.Group>\n            </Form>\n        );\n    }\n};\n\nexport default InstructorFilter; ","//https://www.robinwieruch.de/react-fetching-data/\nimport React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { InstructorDisplay } from '../../components/InstructorDisplay';\nimport { InstructorFilter } from '../../components/InstructorFilter';\n\nimport './Instructors.css'\n\nclass Instructors extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinstructorListing: [],\n\t\t\tallInstructors: [],\n\t\t\tactivePage: 1,\n\t\t\tshowWarning: false,\n\t\t\tcategories: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('/api/instructors')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({instructorListing: data, allInstructors: data}, () => {\n\t\t\t\t\tconst allInstructors = this.state.allInstructors;\n\t\t\t\t\tvar total = {};\n\n\t\t\t\t\t\tfor (let i = 0; i < allInstructors.length; i++) {\n\t\t\t\t\t\t\tvar temp = [];\n\t\t\t\t\t\t\t// console.log(temp);\n\t\t\t\t\t\t\tconst url = '/api/class-history-teach/' + allInstructors[i]._id;\n\t\t\t\t\t\t\tconsole.log(url);\n\t\t\t\t\t\t\tfetch(url)\n\t\t\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < data.length; j++) {\n\t\t\t\t\t\t\t\t\t\t// console.log(data[j]);\n\t\t\t\t\t\t\t\t\t\ttemp.push(data[j].category);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// console.log(temp);\n\t\t\t\t\t\t\t\t\ttotal[i] = temp;\n\t\t\t\t\t\t\t\t\ttemp = [];\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(total);\n\t\t\t\t\tthis.setState({categories: total});\n\t\t\t\t});\n\t\t\t})\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({activePage: pg});\n\t}\n\n\tfilterResults(query) {\n\t\t// console.log(query);\n\t\t// console.log(this.state.categories);\n\t\tconst allInstructors = this.state.allInstructors;\n\t\tlet filteredClasses = [];\n\n\t\tfor (let i = 0; i < allInstructors.length; i++) {\n\t\t\tlet includeInResult = true;\n\t\t\tconst c = allInstructors[i];\n\n\t\t\tif (query['minRating'] !== 'Min Rating...') {\n\t\t\t\tif (c.rating === 'Not Available' || c.rating < parseFloat(query['minRating'])) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (query['instructorCategory'] !== 'Instructor Category...') {\n\t\t\t\tvar noMatch = true;\n\t\t\t\tfor (let j = 0; j < this.state.categories[i].length; j++) {\n\t\t\t\t\tif (query['instructorCategory'] == this.state.categories[i][j]) {\n\t\t\t\t\t\tnoMatch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (noMatch) {\n\t\t\t\t\tincludeInResult = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (includeInResult) {\n\t\t\t\tfilteredClasses.push(c);\n\t\t\t}\n\t\t}\n\n\t\t// console.log(filteredClasses.length);\n\t\tif (filteredClasses.length === 0) {\n\t\t\tthis.setState({showWarning: true, instructorListing: filteredClasses, activePage: 1});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({showWarning: false, instructorListing: filteredClasses, activePage: 1});\n\t\t}\n\n\t}\n\n\trender() {\n\n\t\tconst instructorListData = this.state.instructorListing.map((data, index) => {\n\t\t\treturn <InstructorDisplay key={index} name={data.name} introduction={data.introduction} rating={data.rating} slug={data._id} userProfilePic={data.profilePicURL}/>\n\t\t});\n\n\t\tconst INSTRUCTORS_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * INSTRUCTORS_PER_PAGE;\n\t\tconst endIdx = startIdx + INSTRUCTORS_PER_PAGE;\n\t\tconst toDisplay = instructorListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(5, instructorListData.length/INSTRUCTORS_PER_PAGE + 1);\n\n\t\treturn (\n\t\t\t<div className='instructor-listing-container'>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Instructors</h1>\n\t\t\t\t\t<p>Below is the list of instructors on TeachMe.</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div className='filter-container'>\n\t\t\t\t\t<InstructorFilter filterResults={this.filterResults.bind(this)}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='instructor-listing-display'>\n\t\t\t\t\t{toDisplay}\n\t\t\t\t\t{ this.state.showWarning ? <Alert variant='danger'>It seems that we don't have any instructors that satisfy your filter. Try resetting the filter to see more results!</Alert> : null }\n\t\t\t\t\t<div className='pagination-container'>\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\titemsCountPerPage={INSTRUCTORS_PER_PAGE}\n\t\t\t\t\t\t\ttotalItemsCount={instructorListData.length}\n\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n \t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Instructors;\n","import React, { Component } from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Alert from 'react-bootstrap/Alert';\nimport Pagination from \"react-js-pagination\";\nimport { ClassDisplay } from '../../components/ClassDisplay';\nimport Rater from 'react-rater'\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport './UserProfile.css'\n\nclass UserProfile extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: {},\n            classesTaken: [],\n            activePage: 1,\n            noClassWarning: false,\n            ratingSubmitStatus: {}\n        };\n\n        this.rateLearner = this.rateLearner.bind(this);\n    }\n\n\n    componentDidMount() {\n        const { userId } = this.props.match.params;\n        const url = '/api/my-account/' + userId;\n        //console.log(url);\n        fetch(url)\n          .then(response => response.json())\n          .then(data => this.setState({currentUser: data[0]}))\n        \n        // const data = {\"sumOfRatingAsInstructor\":0,\"numOfRatingAsInstructor\":0,\"sumOfRatingAsLearner\":0,\"numOfRatingAsLearner\":0,\"_id\":\"5cafbea33b93c520a141dfa7\",\"name\":\"test\",\"email\":\"hi@test.com\",\"password\":\"$2a$10$tL1NRESoZ8sfZRhxvOOpHeL17yDi5cHLS98XZVVUWAU6U89di/Tsi\",\"date\":\"2019-04-11T22:24:35.651Z\",\"__v\":0,\"instructorRating\":0,\"learnerRating\":0};\n        // this.setState({currentUser: data});\n        // console.log(data.Introduction);\n\n        const url2 = '/api/class-history-take/' + userId;\n        //console.log(url2);\n        fetch(url2)\n            .then(response => response.json())\n            .then((data) => {\n                if (data.length === 0) {\n                    this.setState({noTakeClassWarning: true, classesTaken: data});\n                }\n                else {\n                    this.setState({noTakeClassWarning: false, classesTaken: data});\n                }\n            });\n\n        // const data2 = [{\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":10,\"proposedSchedule\":\"Monday\",\"instructor\":{\"sumOfRatingAsInstructor\":-1,\"numOfRatingAsInstructor\":-1,\"sumOfRatingAsLearner\":0,\"numOfRatingAsLearner\":0,\"profilePicURL\":\"/images/default-user.png\",\"profilePicPublicID\":null,\"_id\":\"5cae87f7241167dc0675a704\",\"name\":\"DerekTest\",\"email\":\"ch2699@nyu.edu\",\"password\":\"$2a$10$i8zH3LVNTJ/.My/Ms0PsgOCQshBTRbAKCJ5gCWKJ/VNDJvij7PpSC\",\"date\":\"2019-04-11T00:19:03.364Z\",\"__v\":0},\"rating\":\"9.6\",\"category\":\"Music\",\"archive\":false,\"complete\":false,\"instructorName\":\"DerekTest\",\"instructorProfilePic\":\"/images/default-user.png\"},{\"_id\":\"5cb12adbb5966c04c0927891\",\"name\":\"violin\",\"description\":\"learn how to play violin\",\"price\":100,\"proposedSchedule\":\"Mon, Wed 1-2pm\",\"instructor\":{\"sumOfRatingAsInstructor\":0,\"numOfRatingAsInstructor\":0,\"sumOfRatingAsLearner\":42,\"numOfRatingAsLearner\":10,\"profilePicURL\":\"/images/default-user.png\",\"profilePicPublicID\":null,\"_id\":\"5cafbea33b93c520a141dfa7\",\"introduction\":\"hello\",\"name\":\"test\",\"email\":\"hi@test.com\",\"password\":\"$2a$10$tL1NRESoZ8sfZRhxvOOpHeL17yDi5cHLS98XZVVUWAU6U89di/Tsi\",\"date\":\"2019-04-11T22:24:35.651Z\",\"__v\":0},\"category\":\"Music\",\"rating\":0,\"sumOfRating\":0,\"numOfRating\":0,\"archive\":false,\"__v\":0,\"complete\":false,\"instructorName\":\"test\",\"instructorProfilePic\":\"/images/default-user.png\"}];\n        // this.setState({classesTaken: data2});\n        // if (data2.length === 0) {\n        //     this.setState({noClassWarning: true});\n        // } \n    }\n\n    rateLearner(e) {\n\n        if (this.props.auth.isAuthenticated) {\n\n            //console.log(e.rating);\n\n            const newRatingObj = {};\n\n            const newSumOfRatingAsLearner = this.state.currentUser.sumOfRatingAsLearner + e.rating;\n            //console.log(newSumOfRatingAsLearner);\n            newRatingObj.newSumOfRatingAsLearner = newSumOfRatingAsLearner;\n            const newNumOfRatingAsLearner = this.state.currentUser.numOfRatingAsLearner + 1;\n            //console.log(newNumOfRatingAsLearner);\n            newRatingObj.newNumOfRatingAsLearner = newNumOfRatingAsLearner;\n\n            const userId = this.props.match.params.userId;\n            newRatingObj.userId = userId;\n            const instructorId = this.props.auth.user.id;\n            newRatingObj.instructorId = instructorId;\n            //console.log(newRatingObj);\n\n            const updatedUser = this.state.currentUser;\n\t\t\tupdatedUser['sumOfRatingAsLearner'] = newSumOfRatingAsLearner;\n            updatedUser['numOfRatingAsLearner'] = newNumOfRatingAsLearner;\n            updatedUser['learnerRating'] = (newSumOfRatingAsLearner / newNumOfRatingAsLearner).toFixed(2);\n\t\t\tthis.setState({ instructor: updatedUser });\n\n            fetch(\"/api/rate-learner/\", {\n                method: \"POST\",\n                body: JSON.stringify(newRatingObj),\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            })\n                .then(response => response.json())\n                .then(data => this.setState({ ratingSubmitStatus: data }));\n        }\n        else {\n            this.props.history.push(\"/login\");\n        }\n    }\n\n    handlePageChange(pg) {\n        this.setState({activePage: pg});\n    }\n\n    render() {\n        const { classId } = this.props.match.params;\n        const userData = this.state.currentUser;\n        //\n\n        const classListData = this.state.classesTaken.map(function(data, index) {\n            return <ClassDisplay key={index} title={data.name} description={data.description} price={data.price} instructor={data.instructorName} rating={data.rating} category={data.category} slug={data._id} instructorProfilePic={data.instructorProfilePic}/>\n        });\n        \n        const CLASSES_PER_PAGE = 4;\n\n        const startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n        const endIdx = startIdx + CLASSES_PER_PAGE;\n        const toDisplay = classListData.slice(startIdx, endIdx);\n        const pageRange = Math.min(5, classListData.length/CLASSES_PER_PAGE + 1);\n\n        return (\n            <div className='detail-page-container'>\n                <Jumbotron>\n                    <h1>Profile: {userData.name}</h1>\n                </Jumbotron>\n                <div className='detail-container'>\n                    <Row>\n                        <Col sm={5}>\n                            <div className='detail-image-container'>\n                                <img\n                                    alt=\"user profile\"\n                                    src={userData.profilePicURL}\n                                    className=\"user-image\"\n                                />\n                            </div>\n                        </Col>\n                        <Col sm={7}>\n                            <div className=\"detail-text-container\">\n                                <h3>Name</h3>\n                                <p>{userData.name}</p>\n                                <h3>Email</h3>\n                                <p>{userData.email}</p>\n                                <h3>Introduction</h3>\n                                { userData.introduction !== undefined ? <p>{userData.introduction}</p> : <Alert variant=\"warning\">This user has not provided a self-introduction.</Alert>}\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <div className='rating-container'>\n                            <h3>Rating</h3>\n                            {userData.learnerRating ?\n\t\t\t\t\t\t\t\t<div className='current-rating-container'>\n\t\t\t\t\t\t\t\t\t<Rater total = {5} rating = {userData.learnerRating} interactive = {false}/>\n\t\t\t\t\t\t\t\t\t<p className=\"rating-number\">{userData.learnerRating} (based on {userData.numOfRatingAsLearner} reviews)</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tWe don't have enough rating for this learner yet.\n\t\t\t\t\t\t\t\t</Alert>\n                            }\n                            <h4 className=\"rate-class-label\">Rate this learner: </h4>\n                            <Rater total={5} onRate={this.rateLearner} />\n                            {this.state.ratingSubmitStatus.status ===\n                            \"success\" ? (\n                                <Alert\n                                    variant=\"success\"\n                                    className=\"success-alert\"\n                                >\n                                    You have successfully submitted your\n                                    rating!\n                                </Alert>\n                            ) : null}\n                            {this.state.ratingSubmitStatus.status ===\n                            \"error\" ? (\n                                <Alert\n                                    variant=\"danger\"\n                                    className=\"error-alert\"\n                                >\n                                    Oops, it seems that we have encountered\n                                    a problem:{\" \"}\n                                    {this.state.ratingSubmitStatus.result}.\n                                </Alert>\n                            ) : null}\n                        </div>\n                    </Row>\n                    <Row>\n                        <div className='class-history-container class-history-container-2'>\n                            <h3>Classes Taken by {userData.name}</h3>\n                            {toDisplay}\n                            { this.state.noClassWarning ? <Alert variant='danger'>It seems that the user have not taken any class at this time.</Alert> : null }\n                            <div className='pagination-container'>\n                                <Pagination\n                                    activePage={this.state.activePage}\n                                    itemsCountPerPage={CLASSES_PER_PAGE}\n                                    totalItemsCount={classListData.length}\n                                    pageRangeDisplayed={pageRange}\n                                    onChange={this.handlePageChange.bind(this)}\n                                />\n                            </div>\n                        </div>\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nUserProfile.propTypes = {\n    auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(mapStateToProps)(UserProfile);","import axios from \"axios\";\nconst setAuthToken = token => {\n  if (token) {\n    // Apply authorization token to every request if logged in\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    // Delete auth header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setAuthToken;","import axios from \"axios\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n  USER_LOADING\n} from \"./types\";\n// Register User\nexport const registerUser = (userData, history) => dispatch => {\n  axios\n    .post(\"/api/users/register\", userData)\n    .then(res => history.push(\"/login\")) // re-direct to login on successful register\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Login - get user token\nexport const loginUser = userData => dispatch => {\n  axios\n    .post(\"/api/users/login\", userData)\n    .then(res => {\n      // Save to localStorage\n// Set token to localStorage\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      // Set token to Auth header\n      setAuthToken(token);\n      // Decode token to get user data\n      const decoded = jwt_decode(token);\n      // Set current user\n      dispatch(setCurrentUser(decoded));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Set logged in user\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n// User loading\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING\n  };\n};\n// Log user out\nexport const logoutUser = () => dispatch => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentUser({}));\n  //history.push('/login');\n};","export const GET_ERRORS = \"GET_ERRORS\";\nexport const USER_LOADING = \"USER_LOADING\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import React, { Component } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavItem from \"react-bootstrap/NavItem\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport Button from \"react-bootstrap/Button\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\n\nimport \"./NavBar.css\";\n\nclass NavBar extends Component {\n\tlogout() {\n\t\tthis.props.logoutUser();\n\t}\n\n\trender() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\treturn (\n\t\t\t\t<Navbar bg=\"primary\" variant=\"dark\">\n\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t<Navbar.Brand>TeachMe</Navbar.Brand>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">Home</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/classes\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tClass Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/instructors\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tInstructor Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/about\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">About</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<LinkContainer to=\"/my-account\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tHello {this.props.auth.user.name}\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<NavDropdown\n\t\t\t\t\t\t\ttitle=\"Quick Access\"\n\t\t\t\t\t\t\tid=\"collasible-nav-dropdown\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<LinkContainer to=\"/class-history\">\n\t\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.1\">\n\t\t\t\t\t\t\t\t\tMy Class History\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t<LinkContainer to=\"/create-class\">\n\t\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.1\">\n\t\t\t\t\t\t\t\t\tPublish New Class\n\t\t\t\t\t\t\t\t</NavDropdown.Item>\n\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Navbar bg=\"primary\" variant=\"dark\">\n\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t<Navbar.Brand>TeachMe</Navbar.Brand>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t<LinkContainer to=\"/home\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">Home</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/classes\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tClass Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/instructors\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">\n\t\t\t\t\t\t\t\tInstructor Listing\n\t\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/about\">\n\t\t\t\t\t\t\t<NavItem className=\"nav-link\">About</NavItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<LinkContainer to=\"/login\">\n\t\t\t\t\t\t\t<Button variant=\"outline-light\">Log In</Button>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t<LinkContainer to=\"/register\">\n\t\t\t\t\t\t\t<Button variant=\"outline-light\">Sign Up</Button>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar>\n\t\t\t);\n\t\t}\n\t}\n}\n\nNavBar.propTypes = {\n\tauth: PropTypes.object.isRequired,\n\tlogoutUser: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(\n\tmapStateToProps,\n\t{ logoutUser }\n)(NavBar);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nimport './Login.css';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/my-account\"); // push user to dashboard when they login\n    }\n\n    if (nextProps.errors) {\n          this.setState({\n            errors: nextProps.errors\n          });\n        }\n    }\n\nonChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\nonSubmit = e => {\n    e.preventDefault();\n    const userData = {\n          email: this.state.email,\n          password: this.state.password\n        };\n    this.props.loginUser(userData);\n  };\nrender() {\n    const { errors } = this.state;\nreturn (\n      <div className=\"container\">\n        <div className=\"login-form\">\n          <div className=\"login-form-header\" >\n            <h4>\n              <b>Login</b> below\n            </h4>\n            <p className=\"grey-text text-darken-1\">\n              Don't have an account? <Link to=\"/register\">Register</Link> for an account now - it only takes a minute!\n            </p>\n          </div>\n          <form className=\"login-input-fields\" noValidate onSubmit={this.onSubmit}>\n            <div className=\"input-field\">\n              <input\n                onChange={this.onChange}\n                value={this.state.email}\n                error={errors.email}\n                id=\"email\"\n                type=\"email\"\n                className={classnames(\"\", {\n                  invalid: errors.email || errors.emailnotfound\n                })}\n              />\n              <label htmlFor=\"email\">Email</label>\n              <span className=\"red-text\">\n                {errors.email}\n                {errors.emailnotfound}\n              </span>\n            </div>\n            <div className=\"input-field input-field-2\">\n              <input\n                onChange={this.onChange}\n                value={this.state.password}\n                error={errors.password}\n                id=\"password\"\n                type=\"password\"\n                className={classnames(\"\", {\n                  invalid: errors.password || errors.passwordincorrect\n                })}\n              />\n              <label htmlFor=\"password\">Password</label>\n              <span className=\"red-text\">\n                {errors.password}\n                {errors.passwordincorrect}\n              </span>\n            </div>\n            <div className=\"login-buttons\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-large waves-effect waves-light hoverable\"\n              >\n                Login\n              </button>\n            </div>\n          </form>\n          \n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { loginUser }\n)(Login);\n","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nimport './Register.css';\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      introduction: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\nonChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\nonSubmit = e => {\n    e.preventDefault();\n    const newUser = {\n          name: this.state.name,\n          email: this.state.email,\n          password: this.state.password,\n          password2: this.state.password2,\n          introduction: this.state.introduction\n        };\n    this.props.registerUser(newUser, this.props.history); \n  };\n\n\nrender() {\n    const { errors } = this.state;\nreturn (\n      <div className=\"container\">\n        <div className=\"login-form\">\n          <div className=\"login-form-header\">\n            <h4>\n              <b>Register</b> below\n            </h4>\n            <p className=\"grey-text text-darken-1\">\n              Already have an account? <Link to=\"/login\">Log in</Link> now!\n            </p>\n          </div>\n          <form className=\"login-input-fields\" noValidate onSubmit={this.onSubmit}>\n            <div className=\"input-field\">\n              <input\n                onChange={this.onChange}\n                value={this.state.name}\n                error={errors.name}\n                id=\"name\"\n                type=\"text\"\n                className={classnames(\"\", {\n                  invalid: errors.name\n                })}\n              />\n              <label htmlFor=\"name\">Name</label>\n              <span className=\"red-text\">{errors.name}</span>\n            </div>\n            <div className=\"input-field\">\n              <input\n                onChange={this.onChange}\n                value={this.state.email}\n                error={errors.email}\n                id=\"email\"\n                type=\"email\"\n                className={classnames(\"\", {\n                  invalid: errors.email\n                })}\n              />\n              <label htmlFor=\"email\">Email</label>\n              <span className=\"red-text\">{errors.email}</span>\n            </div>\n            <div className=\"input-field\">\n              <input\n                onChange={this.onChange}\n                value={this.state.introduction}\n                error={errors.introduction}\n                id=\"introduction\"\n                type=\"text\"\n                className={classnames(\"\", {\n                  invalid: errors.introduction\n                })}\n              />\n              <label htmlFor=\"introduction\">A short introduction about yourself (as an Instructor and/or a Learner)</label>\n              <span className=\"red-text\">{errors.introduction}</span>\n            </div>\n            <div className=\"input-field\">\n              <input\n                onChange={this.onChange}\n                value={this.state.password}\n                error={errors.password}\n                id=\"password\"\n                type=\"password\"\n                className={classnames(\"\", {\n                  invalid: errors.password\n                })}\n              />\n              <label htmlFor=\"password\">Password</label>\n              <span className=\"red-text\">{errors.password}</span>\n            </div>\n            <div className=\"input-field input-field-2\">\n              <input\n                onChange={this.onChange}\n                value={this.state.password2}\n                error={errors.password2}\n                id=\"password2\"\n                type=\"password\"\n                className={classnames(\"\", {\n                  invalid: errors.password2\n                })}\n              />\n              <label htmlFor=\"password2\">Confirm Password</label>\n              <span className=\"red-text\">{errors.password2}</span>\n            </div>\n            <div className=\"login-buttons\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-large waves-effect waves-light hoverable\"\n              >\n                Sign up\n              </button>\n            </div>\n          </form>\n          \n        </div>\n      </div>\n    );\n  }\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser }\n)(withRouter(Register));","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\n//import Button from 'react-bootstrap/Button'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nimport './StudentDisplay.css'\n\nclass StudentDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <LinkContainer to={\"/user/\" + this.props.userID}>\n                    <Card.Body>\n                        <Card.Img className=\"student-img\" src={this.props.userProfilePic}></Card.Img>\n                        <Card.Title>{this.props.name}</Card.Title>\n                        <Card.Text>Registered on: {this.props.signupDate}</Card.Text>\n                    </Card.Body>\n                </LinkContainer>\n            </Card>\n        )\n    }\n}\n\nexport default StudentDisplay;","import React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nimport \"./Comment.css\";\n\nclass StudentDisplay extends Component {\n    render() {\n        return(\n            <Card>\n                <Card.Body>\n                    <Card.Img className=\"student-img\" src={this.props.userProfilePic}></Card.Img>\n                    <Card.Title>{this.props.className}</Card.Title>\n                    <LinkContainer className=\"user-profile-link\" to={\"/user/\" + this.props.userID}><Card.Subtitle>{this.props.name} says:</Card.Subtitle></LinkContainer>\n                    <Card.Text>{this.props.commentText}</Card.Text>\n                    <Card.Text className='italics-text'>Published on: {this.props.commentDate}</Card.Text>\n                </Card.Body>\n            </Card>\n        )\n    }\n}\n\nexport default StudentDisplay;","import React, { Component } from \"react\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Form from \"react-bootstrap/Form\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { StudentDisplay } from \"../../components/StudentDisplay\";\nimport { Comment } from \"../../components/Comment\";\nimport Rater from 'react-rater'\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\n\nimport \"./ClassDetail.css\"; \n\nclass ClassDetail extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcurrentClass: {},\n\t\t\tsuccessRedirect: {},\n\t\t\tcommentSubmitStatus: {},\n\t\t\tloginRequired: false,\n\t\t\tclassNotRegistered: false,\n\t\t\tnoStudentAlert: false,\n\t\t\tisInstructor: false,\n\t\t\tnoCommentAlert: false,\n\t\t\tarchiveModalDisplay: false,\n\t\t\tcompleteModalDisplay: false,\n\t\t\tstudentsList: [],\n\t\t\tcomments: [],\n\t\t\ttextAreaValue: \"\",\n\t\t\tratingSubmitStatus: {}\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.handleWithdraw = this.handleWithdraw.bind(this);\n\t\tthis.getStudents = this.getStudents.bind(this);\n\t\tthis.deleteClass = this.deleteClass.bind(this);\n\t\tthis.archiveClass = this.archiveClass.bind(this);\n\t\tthis.completeClass = this.completeClass.bind(this);\n\t\tthis.getComments = this.getComments.bind(this);\n\t\tthis.submitComment = this.submitComment.bind(this);\n\t\tthis.showConfirmArchive = this.showConfirmArchive.bind(this);\n\t\tthis.handleCloseArchiveModal = this.handleCloseArchiveModal.bind(this);\n\t\tthis.showConfirmComplete = this.showConfirmComplete.bind(this);\n\t\tthis.handleCloseCompleteModal = this.handleCloseCompleteModal.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.rateClass = this.rateClass.bind(this);\n\t}\n\n\trateClass(e) {\n\n        if (this.props.auth.isAuthenticated) {\n\n            // console.log(e.rating);\n\n            const newRatingObj = {};\n\n            const newSumOfRating = this.state.currentClass.sumOfRating + e.rating;\n            // console.log(newSumOfRating);\n            newRatingObj.newSumOfRating = newSumOfRating;\n            const newNumOfRating = this.state.currentClass.numOfRating + 1;\n            // console.log(newNumOfRating);\n            newRatingObj.newNumOfRating = newNumOfRating;\n\n            const userId = this.props.auth.user.id;\n            newRatingObj.userId = userId;\n            const classId = this.props.match.params.classId;\n            newRatingObj.classId = classId;\n            // console.log(newRatingObj);\n\n            const updatedClass = this.state.currentClass;\n            updatedClass['sumOfRating'] = newSumOfRating;\n            updatedClass['numOfRating'] = newNumOfRating;\n            updatedClass['rating'] = (newSumOfRating / newNumOfRating).toFixed(2);\n\n            this.setState({ currentClass: updatedClass });\n\n            fetch(\"/api/rate-class/\", {\n                method: \"POST\",\n                body: JSON.stringify(newRatingObj),\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            })\n                .then(response => response.json())\n                .then(data => this.setState({ ratingSubmitStatus: data }));\n        }\n        else {\n            this.props.history.push(\"/login\");\n        }\n\n\t}\n\n\tdeleteClass() {}\n\n\tshowConfirmComplete() {\n\t\tthis.setState({ completeModalDisplay: true });\n\t}\n\n\thandleCloseCompleteModal() {\n\t\tthis.setState({ completeModalDisplay: false });\n\t}\n\n\tshowConfirmArchive() {\n\t\tthis.setState({ archiveModalDisplay: true });\n\t}\n\n\thandleCloseArchiveModal() {\n\t\tthis.setState({ archiveModalDisplay: false });\n\t}\n\n\tcompleteClass() {\n\t\tconst { classId } = this.props.match.params;\n\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconst newUserClassPair = {};\n\t\t\tnewUserClassPair.userID = this.props.auth.user.id;\n\t\t\tnewUserClassPair.classID = classId;\n\t\t\tnewUserClassPair.complete = true;\n\n\t\t\t//console.log(newUserClassPair);\n\n\t\t\tconst url = \"/api/complete-class\";\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(newUserClassPair),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => this.setState({ successRedirect: data, completeModalDisplay: false }));\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true, completeModalDisplay: false });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t}\n\n\tarchiveClass() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tif (\n\t\t\t\tthis.state.currentClass.instructorID === this.props.auth.user.id\n\t\t\t) {\n\t\t\t\tconst newClassObj = {};\n\t\t\t\tconst { classId } = this.props.match.params;\n\t\t\t\tnewClassObj.classID = classId;\n\t\t\t\tnewClassObj.archive = true;\n\n\t\t\t\t//console.log(newClassObj);\n\t\t\t\tconst url = \"/api/archive-class\";\n\t\t\t\tfetch(url, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: JSON.stringify(newClassObj),\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAccept: \"application/json\"\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(data => this.setState({ successRedirect: data, archiveModalDisplay: false}));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true, archiveModalDisplay: false });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t}\n\n\tgetStudents() {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tif (\n\t\t\t\tthis.state.currentClass.instructorID === this.props.auth.user.id\n\t\t\t) {\n\t\t\t\tconst { classId } = this.props.match.params;\n\t\t\t\tconst url = \"/api/get-students/\" + classId;\n\t\t\t\tfetch(url)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(data =>\n\t\t\t\t\t\tthis.setState({ studentsList: data }, function() {\n\t\t\t\t\t\t\tif (this.state.studentsList.length === 0) {\n\t\t\t\t\t\t\t\tthis.setState({ noStudentAlert: true });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.setState({ isInstructor: false });\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t\t/*\n\t\tconst data = [{date: '2019-1-1', userID: {name: 'test'}}, {date: '2019-1-2', userID: {name: 'test2'}}, {date: '2019-1-3', userID: {name: 'haha'}}, {date: '2019-1-1', userID: {name: 'test'}}, {date: '2019-1-1', userID: {name: 'test'}}];\n\t\tthis.setState({studentsList: data});\n\t\t*/\n\t}\n\n\thandleSubmit() {\n\t\tconst { classId } = this.props.match.params;\n\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconst newUserClassPair = {};\n\t\t\tnewUserClassPair.userID = this.props.auth.user.id;\n\t\t\tnewUserClassPair.classID = classId;\n\n\t\t\tconst url = \"/api/register-class\";\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(newUserClassPair),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => this.setState({ successRedirect: data }));\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t}\n\n\thandleWithdraw() {\n\t\tconst { classId } = this.props.match.params;\n\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconst newUserClassPair = {};\n\t\t\tnewUserClassPair.userID = this.props.auth.user.id;\n\t\t\tnewUserClassPair.classID = classId;\n\n\t\t\tconst url = \"/api/drop-class\";\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(newUserClassPair),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => this.setState({ successRedirect: data }));\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t}\n\n\tgetComments() {\n\t\tconst { classId } = this.props.match.params;\n\t\tconst url = \"/api/comments/\" + classId;\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data =>\n\t\t\t\tthis.setState({ comments: data }, function() {\n\t\t\t\t\tif (this.state.comments.length === 0) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tnoCommentAlert: true,\n\t\t\t\t\t\t\ttextAreaValue: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tnoCommentAlert: false,\n\t\t\t\t\t\t\ttextAreaValue: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\n\t\t/*\n\t\tconst s = 'All incoming students must submit official copies of university transcripts/academic records from all previously attended universities along with official test scores (if applicable) to Cornell Tech.To be considered official, the required documents must be received directly from the issuing institution and properly authenticated. If your transcripts/academic records are not in English, you must provide an official English translation in addition to your official transcripts/academic records. If your transcripts/academic records do not state your degree-conferral date, you must also provide an official copy of your degree certificate.';\n\t\tconst data = [{name: 'someone', commentText: s, commentDate: '2019-1-1'}, {name: 'someone', commentText: s, commentDate: '2019-1-1'}];\n\t\tthis.setState({comments: data});\n\t\t*/\n\t}\n\n\tsubmitComment(event) {\n\t\tevent.preventDefault();\n\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconst { classId } = this.props.match.params;\n\t\t\tconst commentForm = new FormData(event.currentTarget);\n\t\t\tconst commentObj = {};\n\n\t\t\tfor (let item of commentForm.entries()) {\n\t\t\t\tcommentObj[item[0]] = item[1];\n\t\t\t}\n\n\t\t\t//console.log(commentObj);\n\n\t\t\tconst url =\n\t\t\t\t\"/api/comments/\" + classId + \"/\" + this.props.auth.user.id;\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(commentObj),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data =>\n\t\t\t\t\tthis.setState({ commentSubmitStatus: data }, () =>\n\t\t\t\t\t\tthis.getComments()\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t} else {\n\t\t\tthis.setState({ loginRequired: true });\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.props.history.push(\"/login\");\n\t\t\t}, 2000);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { classId } = this.props.match.params;\n\t\tconst url = \"/api/classes/\" + classId;\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data =>\n\t\t\t\tthis.setState({ currentClass: data }, () => {\n\t\t\t\t\tif (this.props.auth.isAuthenticated) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.state.currentClass.instructorID ===\n\t\t\t\t\t\t\tthis.props.auth.user.id\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.setState({ isInstructor: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.getComments();\n\t\t\t\t})\n\t\t\t);\n\n\t\t/*\n\t\tconst data = {\"_id\":\"5c8547511c9d44000024fb63\",\"name\":\"Piano\",\"description\":\"Piano\",\"price\":75,\"proposedSchedule\":\"Monday\",\"instructor\":\"5c854805e0c8200000afd73a\",\"rating\":\"9.6\",\"cateogry\":\"Art\"};\n\t\tthis.setState({currentClass: data});\n\t\t*/\n\t}\n\n\trender() {\n\t\tconst { classId } = this.props.match.params;\n\t\tconst classData = this.state.currentClass;\n\t\tconst studentData = this.state.studentsList.map(function(data, index) {\n\t\t\treturn (\n\t\t\t\t<StudentDisplay\n\t\t\t\t\tkey={index}\n\t\t\t\t\tname={data.userID.name}\n\t\t\t\t\tsignupDate={data.date}\n                    userID={data.userID._id}\n                    userProfilePic={data.userID.profilePicURL}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\tconst commentData = this.state.comments.map(function(data, index) {\n\t\t\treturn (\n\t\t\t\t<Comment\n\t\t\t\t\tkey={index}\n\t\t\t\t\tname={data.name}\n\t\t\t\t\tcommentText={data.commentText}\n\t\t\t\t\tcommentDate={data.commentDate}\n                    userID={data.userID}\n                    userProfilePic={data.userProfilePic}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tconst instructorButtons = (\n\t\t\t<div className=\"detail-buttons-container\">\n\t\t\t\t<Button onClick={this.getStudents} variant=\"info\">\n\t\t\t\t\tSee Registered Students\n\t\t\t\t</Button>\n\t\t\t\t<LinkContainer to={\"/edit-class/\" + classId}>\n\t\t\t\t\t<Button variant=\"info\">Edit Class</Button>\n\t\t\t\t</LinkContainer>\n\t\t\t\t{/* <Button onClick={this.deleteClass} variant=\"warning\" disabled>Delete Class</Button> */}\n\t\t\t\t<Button onClick={this.showConfirmArchive} variant=\"warning\">\n\t\t\t\t\tArchive Class\n\t\t\t\t</Button>\n\t\t\t\t<Modal\n\t\t\t\t\tshow={this.state.archiveModalDisplay}\n\t\t\t\t\tonHide={this.handleCloseArchiveModal}\n\t\t\t\t>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Confirm Class Archive</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\tAre you sure that you want to archive this class? If\n\t\t\t\t\t\tyes, we will notify your students and this class will no\n\t\t\t\t\t\tlonger be open to registration.\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={this.handleCloseArchiveModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\tOops, go back{\" \"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.archiveClass}>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\tYes{\" \"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\n\t\tconst studentButtons = (\n\t\t\t<div className=\"detail-buttons-container\">\n\t\t\t\t<Button onClick={this.handleSubmit} variant=\"info\">\n\t\t\t\t\tRegister now!\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={this.handleWithdraw} variant=\"warning\">\n\t\t\t\t\tWithdraw from Class\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={this.showConfirmComplete} variant=\"warning\">\n\t\t\t\t\tMark Class as Completed\n\t\t\t\t</Button>\n\t\t\t\t<Modal\n\t\t\t\t\tshow={this.state.completeModalDisplay}\n\t\t\t\t\tonHide={this.handleCloseCompleteModal}\n\t\t\t\t>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Confirm Class Archive</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\tAre you sure that you want to mark this class as\n\t\t\t\t\t\tcompleted? If yes, we will mark this class as completed\n\t\t\t\t\t\tand notify your instructor.\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={this.handleCloseCompleteModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tOops, go back\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.completeClass}>\n\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"detail-page-container\">\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<h1>Class Detail: {classData.name}</h1>\n\t\t\t\t\t<p>{classData.description}</p>\n\t\t\t\t</Jumbotron>\n\t\t\t\t<div className=\"detail-container\">\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm={5}>\n\t\t\t\t\t\t\t<div className=\"detail-image-container\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\talt=\"instructor profile\"\n\t\t\t\t\t\t\t\t\tsrc={classData.instructorProfilePic}\n\t\t\t\t\t\t\t\t\tclassName=\"instructor-image\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p>Class taught by:</p>\n\t\t\t\t\t\t\t\t<LinkContainer\n\t\t\t\t\t\t\t\t\tto={\"/instructor/\" + classData.instructorID}\n\t\t\t\t\t\t\t\t\tclassName=\"instructor-link\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<h5>{classData.instructorName}</h5>\n\t\t\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm={7}>\n\t\t\t\t\t\t\t<div className=\"detail-text-container\">\n\t\t\t\t\t\t\t\t<h3>About</h3>\n\t\t\t\t\t\t\t\t<p>{classData.about}</p>\n\t\t\t\t\t\t\t\t<h3>Pricing</h3>\n\t\t\t\t\t\t\t\t<p>${classData.price}</p>\n\t\t\t\t\t\t\t\t<h3>Proposed Class Schedule</h3>\n\t\t\t\t\t\t\t\t<p>{classData.proposedSchedule}</p>\n\t\t\t\t\t\t\t\t<h3>Class Category</h3>\n\t\t\t\t\t\t\t\t<p>{classData.category}</p>\n\t\t\t\t\t\t\t\t<h3>Payment Link</h3>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref={\"https://\" + classData.paymentLink}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{classData.paymentLink}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div className=\"alerts-container\">\n\t\t\t\t\t\t\t{this.state.successRedirect.status === \"success\" ? (\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tclassName=\"success-alert\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tYou have successfully{\" \"}\n\t\t\t\t\t\t\t\t\t{this.state.successRedirect.result} this\n\t\t\t\t\t\t\t\t\tclass!{\" \"}\n\t\t\t\t\t\t\t\t\t{this.state.successRedirect.instructorEmail}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{this.state.successRedirect.status === \"error\" ? (\n\t\t\t\t\t\t\t\t<Alert variant=\"danger\" className=\"error-alert\">\n\t\t\t\t\t\t\t\t\tOops, it seems that we have encountered a\n\t\t\t\t\t\t\t\t\tproblem: {this.state.successRedirect.result}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{this.state.loginRequired ? (\n\t\t\t\t\t\t\t\t<Alert variant=\"danger\" className=\"login-alert\">\n\t\t\t\t\t\t\t\t\tIt seems that you have not logged in. We are\n\t\t\t\t\t\t\t\t\tnow taking you to the log in page.\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{this.state.notInstructorAlert ? (\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tclassName=\"not-instructor-alert\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRegistered student information is only\n\t\t\t\t\t\t\t\t\tvisible to the instructor of this class.\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{this.state.noStudentAlert ? (\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\tclassName=\"no-student-alert\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tThere are no registered students for this\n\t\t\t\t\t\t\t\t\tclass.\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t{this.state.isInstructor\n\t\t\t\t\t\t\t? instructorButtons\n\t\t\t\t\t\t\t: studentButtons}\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div className=\"student-list-container\">\n\t\t\t\t\t\t\t{studentData}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n                    <Row>\n                        <div className='rating-container'>\n                            <h3>Rating</h3>\n\t\t\t\t\t\t\t{classData.rating ?\n\t\t\t\t\t\t\t\t<div className='current-rating-container'>\n\t\t\t\t\t\t\t\t\t<Rater total = {5} rating = {classData.rating} interactive = {false}/>\n\t\t\t\t\t\t\t\t\t<p className=\"rating-number\">{classData.rating} (based on {classData.numOfRating} reviews)</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tWe don't have enough rating for this class yet.\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t}\n                            <h4 className=\"rate-class-label\">Rate this class: </h4>\n\t\t\t\t\t\t\t<Rater total={5} onRate={this.rateClass} />\n                            {this.state.ratingSubmitStatus.status ===\n                            \"success\" ? (\n                                <Alert\n                                    variant=\"success\"\n                                    className=\"success-alert\"\n                                >\n                                    You have successfully submitted your\n                                    rating!\n                                </Alert>\n                            ) : null}\n                            {this.state.ratingSubmitStatus.status ===\n                            \"error\" ? (\n                                <Alert\n                                    variant=\"danger\"\n                                    className=\"error-alert\"\n                                >\n                                    Oops, it seems that we have encountered\n                                    a problem:{\" \"}\n                                    {this.state.ratingSubmitStatus.result}.\n                                </Alert>\n                            ) : null}\n                        </div>\n                    </Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<div className=\"detail-comments-container\">\n\t\t\t\t\t\t\t<h3>Comments</h3>\n\t\t\t\t\t\t\t{commentData}\n\t\t\t\t\t\t\t<div className=\"alerts-container\">\n\t\t\t\t\t\t\t\t{this.state.commentSubmitStatus.status ===\n\t\t\t\t\t\t\t\t\"success\" ? (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"success-alert\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tYou have successfully submitted your\n\t\t\t\t\t\t\t\t\t\tcomment!\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{this.state.commentSubmitStatus.status ===\n\t\t\t\t\t\t\t\t\"error\" ? (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tOops, it seems that we have encountered\n\t\t\t\t\t\t\t\t\t\ta problem:{\" \"}\n\t\t\t\t\t\t\t\t\t\t{this.state.commentSubmitStatus.result}.\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{this.state.noCommentAlert ? (\n\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"not-comment-alert\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tThere are no comments yet. Submit your\n\t\t\t\t\t\t\t\t\t\tcomment below and make it the first one!\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"comment-input-container\">\n\t\t\t\t\t\t\t\t<Form onSubmit={e => this.submitComment(e)}>\n\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"comment-textarea\">\n\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"commentText\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.textAreaValue}\n\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttextAreaValue:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t\tSubmit Comment\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Row>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nClassDetail.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(ClassDetail);","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      auth.isAuthenticated === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\nPrivateRoute.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../actions/authActions\";\n\nimport \"./Dashboard.css\";\n\nclass Dashboard extends Component {\n\tonLogoutClick = e => {\n\t\te.preventDefault();\n\t\tthis.props.logoutUser();\n\t};\n\trender() {\n\t\tconst { user } = this.props.auth;\n\t\treturn (\n\t\t\t<div className=\"container logout-container\">\n\t\t\t\t<h4>\n\t\t\t\t\tAre you sure you want to log out, {\" \"}\n\t\t\t\t\t{user.name.split(\" \")[0]}?\n\t\t\t\t\t<p className=\"flow-text grey-text text-darken-1\">\n\t\t\t\t\t\tPress the button below to confirm.\n\t\t\t\t\t</p>\n\t\t\t\t</h4>\n\t\t\t\t<div className=\"login-buttons\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={this.onLogoutClick}\n\t\t\t\t\t\tclassName=\"btn btn-large waves-effect waves-light hoverable\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nDashboard.propTypes = {\n\tlogoutUser: PropTypes.func.isRequired,\n\tauth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\nexport default connect(\n\tmapStateToProps,\n\t{ logoutUser }\n)(Dashboard);","import React, { Component } from \"react\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Pagination from \"react-js-pagination\";\nimport \"./InstructorProfile.css\";\nimport { Comment } from \"../../components/Comment\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { ClassDisplay } from \"../../components/ClassDisplay\";\n\nclass InstructorProfile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinstructor: {},\n\t\t\tcomments: [],\n\t\t\tnoCommentAlert: true,\n\t\t\ttextAreaValue: \"\",\n\t\t\tclassListing: [],\n\t\t\tnoTeachClassWarning: false,\n\t\t\tactivePage: 1,\n\t\t\tcurrentSection: 0,\n\t\t\tratingSubmitStatus: {}\n\t\t};\n\t}\n\n\tinstructorRating() {\n\t\tconst {\n\t\t\tsumOfRatingAsInstructor,\n\t\t\tnumOfRatingAsInstructor\n\t\t} = this.state.instructor;\n\n\t\tif (numOfRatingAsInstructor < 1) {\n\t\t\treturn undefined;\n\t\t}\n\t\telse {\n\t\t\treturn (sumOfRatingAsInstructor / numOfRatingAsInstructor).toFixed(2);\n\t\t}\n\t}\n\n\tdisplayTeach() {\n\t\tconst { userId } = this.props.match.params;\n\t\tthis.setState({ activePage: 1, filterWarning: false });\n\t\tconst url = \"/api/class-history-teach/\" + userId;\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tnoTeachClassWarning: true,\n\t\t\t\t\t\tclassListing: data,\n\t\t\t\t\t\tallClasses: data\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tnoTeachClassWarning: false,\n\t\t\t\t\t\tclassListing: data,\n\t\t\t\t\t\tallClasses: data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trateInstructor(event) {\n\t\tif (this.props.auth.isAuthenticated) {\n\t\t\tconst newRatingObj = {};\n\n\t\t\tconst newSumOfRatingAsInstructor =\n\t\t\t\tthis.state.instructor.sumOfRatingAsInstructor + event.rating;\n\t\t\tnewRatingObj.newSumOfRatingAsInstructor = newSumOfRatingAsInstructor;\n\t\t\tconst newNumOfRatingAsInstructor =\n\t\t\t\tthis.state.instructor.numOfRatingAsInstructor + 1;\n\t\t\tnewRatingObj.newNumOfRatingAsInstructor = newNumOfRatingAsInstructor;\n\n\t\t\tconst instructorId = this.props.match.params.userId;\n\t\t\tnewRatingObj.instructorId = instructorId;\n\t\t\tconst userId = this.props.auth.user.id;\n\t\t\tnewRatingObj.userId = userId;\n\n\t\t\tconst updatedInstructor = this.state.instructor;\n\t\t\tupdatedInstructor['sumOfRatingAsInstructor'] = newSumOfRatingAsInstructor;\n\t\t\tupdatedInstructor['numOfRatingAsInstructor'] = newNumOfRatingAsInstructor;\n\n\t\t\tthis.setState({ instructor: updatedInstructor });\n\n\t\t\tfetch(\"/api/rate-instructor/\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(newRatingObj),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(data => this.setState({ ratingSubmitStatus: data }));\n\t\t} else {\n\t\t\tthis.props.history.push(\"/login\");\n\t\t}\n\t}\n\n\taddComment(comment) {\n\t\tconst { userId } = this.props.match.params;\n\t\tfetch(\"/api/instructor/\" + userId + \"/add_comment\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: comment\n\t\t}).then(response => {});\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { userId } = this.props.match.params;\n\t\tfetch(\"/api/instructor/\" + userId + \"/info\")\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst instructorObj = data[0];\n\t\t\t\tif (!instructorObj.introduction || instructorObj.introduction.length < 1) {\n\t\t\t\t\tinstructorObj.introduction = undefined;\n\t\t\t\t}\n\t\t\t\tthis.setState({ instructor: instructorObj });\n\t\t\t\tthis.getComments();\n\t\t\t});\n\t\tthis.displayTeach();\n\t}\n\n\thandlePageChange(pg) {\n\t\tthis.setState({ activePage: pg });\n\t}\n\n\tgetComments() {\n\t\tconst { userId } = this.props.match.params;\n\t\tfetch(\"/api/instructor/\" + userId + \"/comments\")\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tfor (let item of data) {\n\t\t\t\t\tfetch(\"/api/comments/\" + item._id)\n\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tdata.map(function(comment, index) {\n\t\t\t\t\t\t\t\tcomment[\"className\"] = item.name;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t{ comments: this.state.comments.concat(data) },\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\tif (this.state.comments.length === 0) {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tnoCommentAlert: true,\n\t\t\t\t\t\t\t\t\t\t\ttextAreaValue: \"\"\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tnoCommentAlert: false,\n\t\t\t\t\t\t\t\t\t\t\ttextAreaValue: \"\"\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trender() {\n\t\tconst classListData = this.state.classListing.map(function(\n\t\t\tdata,\n\t\t\tindex\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<ClassDisplay\n\t\t\t\t\tkey={index}\n\t\t\t\t\ttitle={data.name}\n\t\t\t\t\tdescription={data.description}\n\t\t\t\t\tprice={data.price}\n\t\t\t\t\tinstructor={data.instructorName}\n\t\t\t\t\trating={data.rating}\n\t\t\t\t\tcategory={data.category}\n\t\t\t\t\tslug={data._id}\n\t\t\t\t\tinstructorProfilePic={data.instructorProfilePic}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tconst CLASSES_PER_PAGE = 4;\n\n\t\tconst startIdx = (this.state.activePage - 1) * CLASSES_PER_PAGE;\n\t\tconst endIdx = startIdx + CLASSES_PER_PAGE;\n\t\tconst toDisplay = classListData.slice(startIdx, endIdx);\n\t\tconst pageRange = Math.min(\n\t\t\t5,\n\t\t\tclassListData.length / CLASSES_PER_PAGE + 1\n\t\t);\n\n\t\tconst { instructor } = this.state;\n\t\tif (instructor.name === undefined) {\n\t\t\treturn (\n\t\t\t\t<div className=\"instructor-profile-page\">\n\t\t\t\t\t<h4>Loading...</h4>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst commentData = this.state.comments.map(function(data, index) {\n\t\t\treturn (\n\t\t\t\t<Comment\n\t\t\t\t\tkey={index}\n\t\t\t\t\tname={data.name}\n\t\t\t\t\tclassName={data.className}\n\t\t\t\t\tcommentText={data.commentText}\n\t\t\t\t\tcommentDate={data.commentDate}\n\t\t\t\t\tuserID={data.userID}\n\t\t\t\t\tuserProfilePic={data.userProfilePic}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tconst divStyle = {\n\t\t\twidth: '100%'\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"instructor-profile-page\">\n\t\t\t\t<h3 className=\"title\">Instructor {instructor.name}</h3>\n\t\t\t\t<h4>Current Rating</h4>\n\t\t\t\t{this.instructorRating() ? \n\t\t\t\t\t<div className=\"current-rating-container\">\n\t\t\t\t\t\t<Rater\n\t\t\t\t\t\t\ttotal={5}\n\t\t\t\t\t\t\trating={this.instructorRating()}\n\t\t\t\t\t\t\tinteractive={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p className=\"rating-number\">{this.instructorRating()} (based on {this.state.instructor.numOfRatingAsInstructor} reviews)</p>\n\t\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t\t<Alert\n\t\t\t\t\t\tvariant=\"warning\"\n\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t>\n\t\t\t\t\t\tWe don't have enough rating for this instructor yet.\n\t\t\t\t\t</Alert>\n\t\t\t\t}\n\t\t\t\t<hr />\n\t\t\t\t<h4>Rate this instructor</h4>\n\t\t\t\t<Rater total={5} onRate={this.rateInstructor.bind(this)} />\n\t\t\t\t{this.state.ratingSubmitStatus.status ===\n\t\t\t\t\t\"success\" ? (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tclassName=\"success-alert\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYou have successfully submitted your\n\t\t\t\t\t\t\trating!\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t) : null}\n\t\t\t\t{this.state.ratingSubmitStatus.status ===\n\t\t\t\t\t\"error\" ? (\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\tclassName=\"error-alert\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tOops, it seems that we have encountered\n\t\t\t\t\t\t\ta problem:{\" \"}\n\t\t\t\t\t\t\t{this.state.ratingSubmitStatus.result}.\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t) : null}\n\t\t\t\t<hr />\n\t\t\t\t<h4>Description</h4>\n\t\t\t\t{instructor.introduction ? <p>{instructor.introduction}</p> : <Alert variant=\"warning\">This instructor has not provided a self-introduction.</Alert>}\n\t\t\t\t<hr />\n\t\t\t\t<br />\n\t\t\t\t<div className=\"class-listing-display\" style={divStyle}>\n\t\t\t\t\t<h3>Available Classes</h3>\n\t\t\t\t\t{toDisplay}\n\t\t\t\t\t{this.state.noTeachClassWarning ? (\n\t\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\t\tThis instructor is not teaching any classes at this\n\t\t\t\t\t\t\ttime.\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<div className=\"pagination-container\">\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={this.state.activePage}\n\t\t\t\t\t\t\titemsCountPerPage={CLASSES_PER_PAGE}\n\t\t\t\t\t\t\ttotalItemsCount={classListData.length}\n\t\t\t\t\t\t\tpageRangeDisplayed={pageRange}\n\t\t\t\t\t\t\tonChange={this.handlePageChange.bind(this)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"detail-comments-container detail-comments-container-2\">\n\t\t\t\t\t<h3>Comments</h3>\n\t\t\t\t\t{commentData}\n\t\t\t\t\t{this.state.noCommentAlert ? (\n\t\t\t\t\t\t<Alert variant=\"warning\" className=\"not-comment-alert\">\n\t\t\t\t\t\t\tThere are no comments yet for this instructor.\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nInstructorProfile.propTypes = {\n\tauth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tauth: state.auth\n});\n\nexport default connect(mapStateToProps)(InstructorProfile);","import React from 'react';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport './About.css'\n\nconst About = props => {\n\treturn (\n\n\t<Jumbotron>\n\t\t\t<h1>Welcome to TeachMe</h1>\n\t\t\t<p>Teach Me is a software project designed to connect users to teach each other creative skills. Teach Me provides creatively skilled individuals (musicians, artists etc.) with an additional source of income, while allowing non-skilled individuals to explore skills that they might be interested in learning.</p>\n\t\t\t<hr />\n\t\t\t<p className=\"bold-text\">As a learner</p>\n\t\t\t<div>\n\t\t\t\t\t<div>TeachMe allows you to explore a wide spectrum of classes offered by others. In order to take the classes, you can: </div>\n\t\t\t\t\t<div>Sign up for a TeachMe account with your email</div>\n\t\t\t\t\t<div>Search for or Click on the classes you are interested in</div>\n\t\t\t\t\t<div>CLick a single button to sign up for the classes!</div>\n\t\t\t</div>\n\t\t\t<div>In addition, you might want to take a look at the schedule and pricing for the classes. Some classes are free while some require payments</div>\n\t\t\t<div>Once you have taken a class, you can rate your instructor and leave comments for others to see</div>\n\n\t\t\t<p className=\"bold-text\">As an instructor</p>\n\t\t\t\t<div>\n\t\t\t\t\t<div>TeachMe provides you with a platform where you can teach your talent and skill to interested learners. Either you are passionate in teaching or willing to obtain another source of income, TeachMe provides this opportunity with only a few clicks needed: </div>\n\t\t\t\t\t<div>Sign up for a TeachMe account with your email. If you already have one, sign in with your existing account</div>\n\t\t\t\t\t<div>Under Quick Access which is located on the right side of the navigate bar, click on \"Publish New Class\"</div>\n\t\t\t\t\t<div>Fill in the requried information, including course name, price, description, etc.</div>\n\t\t\t\t\t<div>Hit submit and your classe will be seen by all users!</div>\n\t\t\t\t</div>\n\n\t\t\t<div>In addition, you might want to take a look at the schedule and pricing for the classes. Some classes are free while some require payments</div>\n\t\t\t\t<p>For any users, you can be an instructor and a learner at the same time, no need for different accounts!</p>\n\t\t\t\t<div>This website is created by Sameer Tulshyan, Cathy Yang, Haomiao Han, Junyang Ma, and Derek Huang </div>\n\n\t</Jumbotron>\n\t);\n};\nexport default About;\n","import {\n  SET_CURRENT_USER,\n  USER_LOADING\n} from \"../actions/types\";\nconst isEmpty = require(\"is-empty\");\nconst initialState = {\n  isAuthenticated: false,\n  user: {},\n  loading: false\n};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !isEmpty(action.payload),\n        user: action.payload\n      };\n    case USER_LOADING:\n      return {\n        ...state,\n        loading: true\n      };\n    default:\n      return state;\n  }\n}","import { GET_ERRORS } from \"../actions/types\";\nconst initialState = {};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload;\n    default:\n      return state;\n  }\n}","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducers\";\nimport errorReducer from \"./errorReducers\";\nexport default combineReducers({\n  auth: authReducer,\n  errors: errorReducer\n});","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\nconst middleware = [thunk];\nexport const store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    (window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()) || compose \n  )\n);\n","//https://github.com/evedes/ReactRouter_Boilerplate_01\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport React from \"react\";\nimport { Home } from \"./views/Home\";\nimport { NoMatch } from \"./views/NoMatch\";\nimport { Classes } from \"./views/Classes\";\nimport { CreateClass } from \"./views/CreateClass\";\nimport { EditClass } from \"./views/EditClass\";\nimport { MyAccount } from \"./views/MyAccount\";\nimport { ClassHistory } from \"./views/ClassHistory\";\nimport { Instructors } from \"./views/Instructors\";\nimport { UserProfile } from \"./views/UserProfile\";\nimport { NavBar } from \"./components/NavBar\";\nimport { Login } from \"./views/Login\";\nimport { Register } from \"./views/Register\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport ClassDetail from \"./views/ClassDetail/ClassDetail\";\nimport PrivateRoute from \"./views/private-route/PrivateRoute\";\nimport { Dashboard } from \"./views/Dashboard\";\nimport { InstructorProfile } from \"./views/InstructorProfile\";\nimport { About } from \"./views/About\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n\t// Set auth token header auth\n\tconst token = localStorage.jwtToken;\n\tsetAuthToken(token);\n\t// Decode token and get user info and exp\n\tconst decoded = jwt_decode(token);\n\t// Set user and isAuthenticated\n\tstore.dispatch(setCurrentUser(decoded));\n\t// Check for expired token\n\tconst currentTime = Date.now() / 1000; // to get in milliseconds\n\tif (decoded.exp < currentTime) {\n\t\t// Logout user\n\t\tstore.dispatch(logoutUser());\n\t\t// Redirect to login\n\t\twindow.location.href = \"./login\";\n\t}\n}\n\nexport const Routes = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t<div>\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/dashboard\"\n\t\t\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path=\"/home\" component={Home} />\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<Redirect to=\"/home\" />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route exact path=\"/classes\" component={Classes} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/classes/:classId\"\n\t\t\t\t\t\t\tcomponent={ClassDetail}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/create-class\"\n\t\t\t\t\t\t\tcomponent={CreateClass}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/edit-class/:classId\"\n\t\t\t\t\t\t\tcomponent={EditClass}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path=\"/my-account\" component={MyAccount} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/class-history\"\n\t\t\t\t\t\t\tcomponent={ClassHistory}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/instructors\"\n\t\t\t\t\t\t\tcomponent={Instructors}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/user/:userId\"\n\t\t\t\t\t\t\tcomponent={UserProfile}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t\t<Route exact path=\"/register\" component={Register} />\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath=\"/instructor/:userId\"\n\t\t\t\t\t\t\tcomponent={InstructorProfile}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path=\"/about\" component={About} />\n\t\t\t\t\t\t<Route component={NoMatch} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</Provider>\n\t);\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Routes } from './routes';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n        <Routes />, \n    document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}